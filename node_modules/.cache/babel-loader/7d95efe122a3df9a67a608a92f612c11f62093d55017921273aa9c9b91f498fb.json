{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Zap,Timer,Sword,Shield,Flame,Snowflake,Star,Eye,AlertTriangle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MagicTypingGame=()=>{var _analyzeSpell;const[gameState,setGameState]=useState('ready');// ready, playing, result, gameover\nconst[playerSpell,setPlayerSpell]=useState('');const[timeLeft,setTimeLeft]=useState(10);const[currentRound,setCurrentRound]=useState(1);const[playerScore,setPlayerScore]=useState(0);const[npcScore,setNpcScore]=useState(0);const[currentMP,setCurrentMP]=useState(100);// 마나포인트\nconst[battleResult,setBattleResult]=useState(null);const[npcSpell,setNpcSpell]=useState('');const[playerAnalysis,setPlayerAnalysis]=useState(null);const[npcAnalysis,setNpcAnalysis]=useState(null);const[estimatedMP,setEstimatedMP]=useState(0);// 예상 마나 비용\nconst inputRef=useRef(null);const timerRef=useRef(null);// 마법 분석 데이터\nconst magicData={elements:{// 기본 속성 (마나 비용 대폭 감소)\n'불':{power:8,weakness:'물',strength:'얼음',color:'text-red-500',manaCost:2},'화염':{power:8,weakness:'물',strength:'얼음',color:'text-red-500',manaCost:2},'불꽃':{power:7,weakness:'물',strength:'얼음',color:'text-red-500',manaCost:2},'용암':{power:10,weakness:'물',strength:'얼음',color:'text-red-600',manaCost:4},'화염술':{power:9,weakness:'물',strength:'얼음',color:'text-red-500',manaCost:3},'물':{power:6,weakness:'번개',strength:'불',color:'text-blue-500',manaCost:2},'얼음':{power:6,weakness:'불',strength:'바람',color:'text-cyan-500',manaCost:2},'서리':{power:7,weakness:'불',strength:'바람',color:'text-cyan-400',manaCost:3},'빙하':{power:9,weakness:'불',strength:'바람',color:'text-cyan-600',manaCost:4},'냉기':{power:5,weakness:'불',strength:'바람',color:'text-cyan-300',manaCost:2},'바람':{power:5,weakness:'얼음',strength:'번개',color:'text-green-500',manaCost:2},'폭풍':{power:8,weakness:'얼음',strength:'번개',color:'text-green-600',manaCost:3},'회오리바람':{power:7,weakness:'얼음',strength:'번개',color:'text-green-500',manaCost:3},'돌풍':{power:6,weakness:'얼음',strength:'번개',color:'text-green-400',manaCost:2},'번개':{power:9,weakness:'바람',strength:'물',color:'text-yellow-500',manaCost:3},'전기':{power:8,weakness:'바람',strength:'물',color:'text-yellow-400',manaCost:3},'뇌전':{power:10,weakness:'바람',strength:'물',color:'text-yellow-600',manaCost:4},'전광':{power:9,weakness:'바람',strength:'물',color:'text-yellow-500',manaCost:3},'땅':{power:7,weakness:'바람',strength:'번개',color:'text-amber-700',manaCost:2},'돌':{power:6,weakness:'바람',strength:'번개',color:'text-gray-500',manaCost:2},'바위':{power:8,weakness:'바람',strength:'번개',color:'text-gray-600',manaCost:3},'철':{power:9,weakness:'바람',strength:'번개',color:'text-gray-700',manaCost:3},'강철':{power:10,weakness:'바람',strength:'번개',color:'text-gray-800',manaCost:4},'빛':{power:8,weakness:'어둠',strength:'어둠',color:'text-yellow-300',manaCost:3},'성스러운':{power:9,weakness:'어둠',strength:'어둠',color:'text-yellow-200',manaCost:4},'신성한':{power:10,weakness:'어둠',strength:'어둠',color:'text-yellow-100',manaCost:5},'태양':{power:11,weakness:'어둠',strength:'어둠',color:'text-yellow-400',manaCost:6},'어둠':{power:8,weakness:'빛',strength:'빛',color:'text-purple-500',manaCost:3},'암흑':{power:9,weakness:'빛',strength:'빛',color:'text-purple-600',manaCost:4},'저주':{power:10,weakness:'빛',strength:'빛',color:'text-purple-700',manaCost:5},'죽음':{power:12,weakness:'빛',strength:'빛',color:'text-purple-800',manaCost:7},// 특수 속성\n'독':{power:7,weakness:'빛',strength:'생명',color:'text-green-700',manaCost:3},'산':{power:8,weakness:'물',strength:'금속',color:'text-green-600',manaCost:3},'생명':{power:6,weakness:'독',strength:'어둠',color:'text-green-300',manaCost:4},'치유':{power:4,weakness:'독',strength:'어둠',color:'text-green-200',manaCost:3},'시간':{power:15,weakness:'공간',strength:'물질',color:'text-purple-300',manaCost:8},'공간':{power:15,weakness:'시간',strength:'물질',color:'text-blue-300',manaCost:8},'정신':{power:10,weakness:'물질',strength:'시간',color:'text-pink-400',manaCost:5},'환상':{power:9,weakness:'빛',strength:'정신',color:'text-pink-500',manaCost:4}},forms:{// 기본 형태 (마나 비용 대폭 감소)\n'구체':{power:3,type:'projectile',speed:7,range:'medium',manaCost:1},'볼':{power:3,type:'projectile',speed:7,range:'medium',manaCost:1},'공':{power:2,type:'projectile',speed:8,range:'medium',manaCost:1},'창':{power:8,type:'projectile',speed:6,range:'long',manaCost:2},'스피어':{power:8,type:'projectile',speed:6,range:'long',manaCost:2},'작살':{power:9,type:'projectile',speed:5,range:'long',manaCost:3},'투창':{power:7,type:'projectile',speed:7,range:'long',manaCost:2},'검':{power:10,type:'melee',speed:4,range:'short',manaCost:3},'칼':{power:9,type:'melee',speed:5,range:'short',manaCost:3},'도검':{power:11,type:'melee',speed:3,range:'short',manaCost:4},'검날':{power:10,type:'melee',speed:4,range:'short',manaCost:3},'방패':{power:5,type:'defense',speed:2,range:'self',manaCost:2},'보호막':{power:6,type:'defense',speed:3,range:'self',manaCost:2},'장벽':{power:7,type:'defense',speed:1,range:'area',manaCost:3},'벽':{power:8,type:'defense',speed:1,range:'area',manaCost:3},'화살':{power:5,type:'projectile',speed:9,range:'long',manaCost:2},'화살촉':{power:6,type:'projectile',speed:8,range:'long',manaCost:2},'탄환':{power:7,type:'projectile',speed:10,range:'long',manaCost:2},'폭발':{power:12,type:'area',speed:3,range:'area',manaCost:4},'폭탄':{power:13,type:'area',speed:2,range:'area',manaCost:5},'터짐':{power:11,type:'area',speed:4,range:'area',manaCost:4},'회오리':{power:9,type:'area',speed:5,range:'area',manaCost:3},'소용돌이':{power:10,type:'area',speed:4,range:'area',manaCost:4},'토네이도':{power:11,type:'area',speed:3,range:'area',manaCost:5},// 특수 형태\n'채찍':{power:7,type:'melee',speed:6,range:'medium',manaCost:2},'망치':{power:12,type:'melee',speed:2,range:'short',manaCost:4},'도끼':{power:11,type:'melee',speed:3,range:'short',manaCost:4},'낫':{power:10,type:'melee',speed:4,range:'medium',manaCost:3},'덫':{power:6,type:'trap',speed:1,range:'area',manaCost:3},'감옥':{power:8,type:'control',speed:2,range:'target',manaCost:4},'사슬':{power:7,type:'control',speed:3,range:'medium',manaCost:3},'밧줄':{power:5,type:'control',speed:4,range:'medium',manaCost:2},'빔':{power:9,type:'projectile',speed:10,range:'long',manaCost:4},'레이저':{power:10,type:'projectile',speed:10,range:'long',manaCost:5},'광선':{power:8,type:'projectile',speed:9,range:'long',manaCost:3},'구름':{power:6,type:'area',speed:2,range:'area',manaCost:3},'안개':{power:4,type:'area',speed:3,range:'area',manaCost:2},'비':{power:5,type:'area',speed:4,range:'area',manaCost:2},'눈':{power:4,type:'area',speed:3,range:'area',manaCost:2}},modifiers:{// 크기 수식어 (마나 비용 대폭 감소)\n'거대한':{powerMult:1.8,speedMult:0.6,description:'크기가 매우 큰',manaCost:3},'큰':{powerMult:1.4,speedMult:0.8,description:'크기가 큰',manaCost:2},'작은':{powerMult:0.7,speedMult:1.3,description:'크기가 작은',manaCost:0},'미세한':{powerMult:0.5,speedMult:1.6,description:'크기가 매우 작은',manaCost:0},'초대형':{powerMult:2.2,speedMult:0.4,description:'크기가 초대형인',manaCost:5},// 속도 수식어\n'빠른':{powerMult:0.8,speedMult:1.8,description:'속도가 빠른',manaCost:1},'신속한':{powerMult:0.9,speedMult:1.6,description:'속도가 신속한',manaCost:2},'느린':{powerMult:1.3,speedMult:0.7,description:'속도가 느린',manaCost:0},'번개같은':{powerMult:0.7,speedMult:2.0,description:'번개처럼 빠른',manaCost:3},'순간의':{powerMult:0.6,speedMult:2.2,description:'순간적인',manaCost:4},// 강도 수식어\n'강력한':{powerMult:1.6,speedMult:0.9,description:'위력이 강한',manaCost:2},'약한':{powerMult:0.6,speedMult:1.2,description:'위력이 약한',manaCost:0},'치명적인':{powerMult:2.0,speedMult:0.8,description:'치명적인',manaCost:4},'파괴적인':{powerMult:1.9,speedMult:0.7,description:'파괴적인',manaCost:4},'무시무시한':{powerMult:1.7,speedMult:0.8,description:'무시무시한',manaCost:3},// 형태 수식어\n'날카로운':{powerMult:1.4,speedMult:1.2,description:'날카로운',manaCost:2},'뾰족한':{powerMult:1.3,speedMult:1.1,description:'뾰족한',manaCost:1},'둥근':{powerMult:0.9,speedMult:1.1,description:'둥근',manaCost:0},'뒤틀린':{powerMult:1.2,speedMult:0.9,description:'뒤틀린',manaCost:1},'곡선의':{powerMult:1.1,speedMult:1.0,description:'곡선의',manaCost:1},// 상태 수식어\n'작열하는':{powerMult:1.5,speedMult:1.0,description:'작열하는',manaCost:2},'얼어붙은':{powerMult:1.3,speedMult:0.8,description:'얼어붙은',manaCost:2},'끓어오르는':{powerMult:1.4,speedMult:1.1,description:'끓어오르는',manaCost:2},'타오르는':{powerMult:1.6,speedMult:0.9,description:'타오르는',manaCost:3},'썩은':{powerMult:1.2,speedMult:0.7,description:'썩은',manaCost:1},'독성의':{powerMult:1.3,speedMult:0.8,description:'독성의',manaCost:2},// 질감 수식어\n'투명한':{powerMult:1.1,speedMult:1.4,description:'투명한',manaCost:2},'반투명한':{powerMult:1.0,speedMult:1.2,description:'반투명한',manaCost:1},'불투명한':{powerMult:1.2,speedMult:0.9,description:'불투명한',manaCost:1},'흐릿한':{powerMult:0.9,speedMult:1.1,description:'흐릿한',manaCost:1},'선명한':{powerMult:1.1,speedMult:1.0,description:'선명한',manaCost:1},// 패턴 수식어\n'연속된':{powerMult:1.4,speedMult:1.2,description:'연속된',manaCost:2},'다중의':{powerMult:1.5,speedMult:0.9,description:'다중의',manaCost:3},'단일의':{powerMult:1.2,speedMult:1.1,description:'단일의',manaCost:1},'폭발하는':{powerMult:1.8,speedMult:0.7,description:'폭발하는',manaCost:4},'분열하는':{powerMult:1.3,speedMult:1.0,description:'분열하는',manaCost:3},// 색상 수식어\n'붉은':{powerMult:1.2,speedMult:1.0,description:'붉은색의',manaCost:1},'푸른':{powerMult:1.1,speedMult:1.1,description:'푸른색의',manaCost:1},'노란':{powerMult:1.0,speedMult:1.2,description:'노란색의',manaCost:1},'검은':{powerMult:1.3,speedMult:0.9,description:'검은색의',manaCost:1},'흰':{powerMult:1.1,speedMult:1.0,description:'흰색의',manaCost:1},'보라':{powerMult:1.2,speedMult:0.95,description:'보라색의',manaCost:1},'초록':{powerMult:1.0,speedMult:1.1,description:'초록색의',manaCost:1},'금색':{powerMult:1.4,speedMult:0.9,description:'금색의',manaCost:2},'은색':{powerMult:1.2,speedMult:1.0,description:'은색의',manaCost:2},// 특수 수식어\n'저주받은':{powerMult:1.7,speedMult:0.8,description:'저주받은',manaCost:4},'축복받은':{powerMult:1.6,speedMult:1.1,description:'축복받은',manaCost:4},'신성한':{powerMult:1.8,speedMult:1.0,description:'신성한',manaCost:5},'사악한':{powerMult:1.5,speedMult:0.9,description:'사악한',manaCost:3},'고대의':{powerMult:1.9,speedMult:0.7,description:'고대의',manaCost:6},'전설의':{powerMult:2.1,speedMult:0.8,description:'전설의',manaCost:7},'금지된':{powerMult:2.3,speedMult:0.6,description:'금지된',manaCost:8},// 감정 수식어\n'분노의':{powerMult:1.5,speedMult:1.2,description:'분노의',manaCost:2},'슬픔의':{powerMult:1.2,speedMult:0.8,description:'슬픔의',manaCost:2},'기쁨의':{powerMult:1.1,speedMult:1.3,description:'기쁨의',manaCost:1},'절망의':{powerMult:1.7,speedMult:0.7,description:'절망의',manaCost:4},'희망의':{powerMult:1.3,speedMult:1.1,description:'희망의',manaCost:2}},// 특수 조합 보너스\ncombos:{'불+검':{powerBonus:3,speedBonus:1,description:'화염검 효과'},'얼음+창':{powerBonus:2,speedBonus:2,description:'빙창 효과'},'번개+화살':{powerBonus:1,speedBonus:4,description:'뇌전화살 효과'},'어둠+낫':{powerBonus:4,speedBonus:0,description:'죽음의 낫 효과'},'빛+방패':{powerBonus:2,speedBonus:1,description:'성스러운 방어 효과'},'폭풍+회오리':{powerBonus:3,speedBonus:2,description:'폭풍우 효과'},'용암+폭발':{powerBonus:5,speedBonus:-1,description:'화산 폭발 효과'}}};const npcSpells=[// 기본 주문\n'얼음 창','불 구체','번개 검','바람 방패','돌 망치','물 화살',// 중급 주문\n'거대한 용암 폭발','날카로운 번개 창','작열하는 불 검','투명한 얼음 벽','빠른 바람 회오리','강력한 땅 주먹','신속한 빛 빔','어둠 사슬',// 고급 주문\n'치명적인 저주받은 어둠의 낫','전설의 태양 광선','거대한 얼어붙은 빙하 폭발','연속된 번개 화살','폭발하는 용암 구체','투명한 바람 칼날',// 특수 주문\n'금지된 죽음의 검','축복받은 성스러운 방패','분노의 불꽃 폭풍','시간의 정지 구슬','공간의 균열 창','생명의 치유 빛',// 색상 주문\n'푸른 얼음 창','붉은 화염 폭발','금색 빛 검','보라 어둠 구름','은색 바람 화살','검은 저주 사슬','흰 치유 구체',// 감정 주문\n'분노의 불꽃 회오리','슬픔의 물 방울','절망의 어둠 안개','기쁨의 빛 폭발','희망의 치유 빔',// 복잡한 조합 주문\n'거대한 작열하는 붉은 용암 도끼','빠른 투명한 얼음 바늘','연속된 날카로운 번개 검날','폭발하는 어둠 독 구름','치명적인 고대의 저주 망치','신성한 금색 빛 방패 벽',// 특수 효과 주문\n'분열하는 다중 화살','뒤틀린 공간 균열','끓어오르는 산 비','썩은 독 안개','반투명한 환상 검','무시무시한 죽음 광선'];// 마나 계산 함수 (버그 수정)\nconst calculateManaCost=spell=>{if(!spell||!spell.trim())return 0;const words=spell.trim().split(/\\s+/);let totalCost=0;let wordCount=0;words.forEach(word=>{if(!word.trim())return;// 빈 단어 스킵\nconst cleanWord=word.replace(/[의를이가은는로으로에서으로서처럼같은]+$/,'');if(magicData.elements[cleanWord]){totalCost+=magicData.elements[cleanWord].manaCost||0;wordCount++;}else if(magicData.forms[cleanWord]){totalCost+=magicData.forms[cleanWord].manaCost||0;wordCount++;}else if(magicData.modifiers[cleanWord]){totalCost+=magicData.modifiers[cleanWord].manaCost||0;wordCount++;}else{// 인식되지 않은 단어는 기본 1 마나\ntotalCost+=1;wordCount++;}});// 복잡도 추가 비용 (5단어 이상일 때)\nif(wordCount>=5){totalCost+=(wordCount-4)*1;}return Math.max(1,totalCost);};// 실시간 마나 계산 (버그 수정)\nconst handleSpellChange=value=>{setPlayerSpell(value);const estimatedCost=calculateManaCost(value);setEstimatedMP(isNaN(estimatedCost)?0:estimatedCost);};// 주문 분석 함수 (빈 입력 처리 개선)\nconst analyzeSpell=spell=>{if(!spell||!spell.trim()){return{spell:'',power:0,speed:0,elements:[],forms:[],modifiers:[],complexity:0,type:'none',range:'none',specialEffects:[],basePower:0,baseSpeed:0,powerMultiplier:1,speedMultiplier:1,comboPower:0,comboSpeed:0,comboDescription:'',manaCost:0,efficiency:0};}const words=spell.trim().split(/\\s+/);let basePower=0;let baseSpeed=0;let elements=[];let forms=[];let modifiers=[];let spellType='attack';let range='medium';// 1단계: 기본 요소 식별 및 기본 스탯 계산\nwords.forEach(word=>{if(!word.trim())return;// 빈 단어 스킵\n// 조사 제거\nconst cleanWord=word.replace(/[의를이가은는로으로에서으로서처럼같은]+$/,'');if(magicData.elements[cleanWord]){elements.push(cleanWord);basePower+=magicData.elements[cleanWord].power||0;baseSpeed+=3;// 속성 기본 속도\n}else if(magicData.forms[cleanWord]){forms.push(cleanWord);basePower+=magicData.forms[cleanWord].power||0;baseSpeed+=magicData.forms[cleanWord].speed||0;range=magicData.forms[cleanWord].range||'medium';if(magicData.forms[cleanWord].type==='defense'){spellType='defense';}else if(magicData.forms[cleanWord].type==='control'){spellType='control';}}else if(magicData.modifiers[cleanWord]){modifiers.push(cleanWord);}});// 2단계: 수식어 배수 적용\nlet powerMultiplier=1;let speedMultiplier=1;modifiers.forEach(modifier=>{const mod=magicData.modifiers[modifier];if(mod){powerMultiplier*=mod.powerMult||1;speedMultiplier*=mod.speedMult||1;}});// 3단계: 조합 보너스 계산\nlet comboPower=0;let comboSpeed=0;let comboDescription='';elements.forEach(element=>{forms.forEach(form=>{const comboKey=`${element}+${form}`;if(magicData.combos[comboKey]){const combo=magicData.combos[comboKey];comboPower+=combo.powerBonus||0;comboSpeed+=combo.speedBonus||0;comboDescription=combo.description||'';}});});// 4단계: 복잡도 보너스 계산\nconst complexity=words.length;const complexityPowerBonus=Math.floor(complexity*0.8);const complexitySpeedBonus=Math.floor(complexity*0.3);// 5단계: 최종 계산\nconst finalPower=Math.max(0,Math.floor(basePower*powerMultiplier+comboPower+complexityPowerBonus));const finalSpeed=Math.max(0,Math.floor(baseSpeed*speedMultiplier+comboSpeed+complexitySpeedBonus));// 마나 비용 계산\nconst manaCost=calculateManaCost(spell);// 효율성 계산 (0으로 나누기 방지)\nconst efficiency=manaCost>0?(finalPower/manaCost).toFixed(2):'0.00';// 6단계: 특수 효과 계산\nconst specialEffects=[];if(spellType==='defense'){specialEffects.push('방어 보너스');}if(comboDescription){specialEffects.push(comboDescription);}if(finalPower>=50){specialEffects.push('압도적 위력');}else if(finalPower>=30){specialEffects.push('강력한 위력');}if(finalSpeed>=40){specialEffects.push('번개 속도');}else if(finalSpeed>=25){specialEffects.push('빠른 속도');}return{spell,power:finalPower,speed:finalSpeed,elements,forms,modifiers,complexity,type:spellType,range,specialEffects,basePower,baseSpeed,powerMultiplier,speedMultiplier,comboPower,comboSpeed,comboDescription,manaCost,efficiency};};// 개선된 전투 결과 계산 (빈 입력 처리)\nconst calculateBattle=(playerAnalysis,npcAnalysis)=>{if(!playerAnalysis||!npcAnalysis)return null;// 플레이어가 빈 주문을 입력한 경우 자동 패배\nif(!playerAnalysis.spell||!playerAnalysis.spell.trim()||playerAnalysis.power===0){return{result:'perfect_lose',playerPower:0,npcPower:npcAnalysis.power,totalAdvantage:0,elementAdvantage:0,typeAdvantage:0,rangeAdvantage:0,speedAdvantage:0,complexityAdvantage:0,specialAdvantage:0,advantageDetails:['빈 주문으로 인한 자동 패배']};}let playerPower=playerAnalysis.power;let npcPower=npcAnalysis.power;let playerSpeed=playerAnalysis.speed;let npcSpeed=npcAnalysis.speed;// 1단계: 속성 상성 계산\nlet elementAdvantage=0;let advantageDetails=[];playerAnalysis.elements.forEach(playerElement=>{npcAnalysis.elements.forEach(npcElement=>{const playerElementData=magicData.elements[playerElement];if(playerElementData&&playerElementData.strength===npcElement){elementAdvantage+=8;advantageDetails.push(`${playerElement}이 ${npcElement}에 유리`);}else if(playerElementData&&playerElementData.weakness===npcElement){elementAdvantage-=8;advantageDetails.push(`${playerElement}이 ${npcElement}에 불리`);}});});// 2단계: 타입별 상성 계산\nlet typeAdvantage=0;if(playerAnalysis.type==='attack'&&npcAnalysis.type==='defense'){if(playerPower>npcPower*1.2){typeAdvantage+=5;advantageDetails.push('방어를 뚫었습니다');}else{typeAdvantage-=8;advantageDetails.push('방어에 막혔습니다');}}else if(playerAnalysis.type==='defense'&&npcAnalysis.type==='attack'){if(playerPower*1.2>npcPower){typeAdvantage+=8;advantageDetails.push('성공적으로 방어했습니다');}else{typeAdvantage-=3;advantageDetails.push('방어가 부족했습니다');}}else if(playerAnalysis.type==='control'){if(playerSpeed>npcSpeed){typeAdvantage+=6;advantageDetails.push('성공적으로 제어했습니다');}else{typeAdvantage-=4;advantageDetails.push('제어에 실패했습니다');}}// 3단계: 범위 상성 계산\nlet rangeAdvantage=0;if(playerAnalysis.range==='long'&&npcAnalysis.range==='short'){rangeAdvantage+=3;advantageDetails.push('사거리 우위');}else if(playerAnalysis.range==='short'&&npcAnalysis.range==='long'){rangeAdvantage-=3;advantageDetails.push('사거리 열세');}else if(playerAnalysis.range==='area'&&npcAnalysis.range!=='area'){rangeAdvantage+=2;advantageDetails.push('범위 공격 우위');}// 4단계: 속도 보너스 계산\nlet speedAdvantage=0;const speedDiff=playerSpeed-npcSpeed;if(speedDiff>10){speedAdvantage+=5;advantageDetails.push('압도적 속도');}else if(speedDiff>5){speedAdvantage+=3;advantageDetails.push('속도 우위');}else if(speedDiff<-10){speedAdvantage-=5;advantageDetails.push('속도 열세');}else if(speedDiff<-5){speedAdvantage-=3;advantageDetails.push('속도 부족');}// 5단계: 복잡도 보너스\nlet complexityAdvantage=0;const complexityDiff=playerAnalysis.complexity-npcAnalysis.complexity;if(complexityDiff>3){complexityAdvantage+=4;advantageDetails.push('복잡한 주문');}else if(complexityDiff>1){complexityAdvantage+=2;advantageDetails.push('정교한 주문');}else if(complexityDiff<-3){complexityAdvantage-=2;advantageDetails.push('단순한 주문');}// 6단계: 특수 효과 보너스\nlet specialAdvantage=0;if(playerAnalysis.specialEffects.includes('압도적 위력')){specialAdvantage+=6;advantageDetails.push('압도적 위력 발동');}else if(playerAnalysis.specialEffects.includes('강력한 위력')){specialAdvantage+=3;advantageDetails.push('강력한 위력 발동');}if(playerAnalysis.specialEffects.includes('번개 속도')){specialAdvantage+=4;advantageDetails.push('번개 속도 발동');}else if(playerAnalysis.specialEffects.includes('빠른 속도')){specialAdvantage+=2;advantageDetails.push('빠른 속도 발동');}if(playerAnalysis.comboDescription){specialAdvantage+=3;advantageDetails.push(playerAnalysis.comboDescription);}// 7단계: 최종 계산\nconst totalAdvantage=elementAdvantage+typeAdvantage+rangeAdvantage+speedAdvantage+complexityAdvantage+specialAdvantage;const finalPlayerPower=Math.max(0,playerPower+totalAdvantage);const finalNpcPower=npcPower;// 8단계: 결과 판정\nlet result;const powerDiff=finalPlayerPower-finalNpcPower;if(powerDiff>15){result='perfect_win';}else if(powerDiff>5){result='win';}else if(powerDiff>0){result='narrow_win';}else if(powerDiff>-5){result='narrow_lose';}else if(powerDiff>-15){result='lose';}else{result='perfect_lose';}return{result,playerPower:finalPlayerPower,npcPower:finalNpcPower,totalAdvantage,elementAdvantage,typeAdvantage,rangeAdvantage,speedAdvantage,complexityAdvantage,specialAdvantage,advantageDetails};};// 게임 시작\nconst startGame=()=>{setGameState('playing');setPlayerSpell('');setEstimatedMP(0);setTimeLeft(10);// NPC 주문 선택\nconst randomSpell=npcSpells[Math.floor(Math.random()*npcSpells.length)];setNpcSpell(randomSpell);setNpcAnalysis(analyzeSpell(randomSpell));// 타이머 시작\ntimerRef.current=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){endRound();return 0;}return prev-1;});},1000);// 입력 창 포커스\nsetTimeout(()=>{var _inputRef$current;(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();},100);};// 라운드 종료 (마나 계산 버그 수정)\nconst endRound=()=>{if(timerRef.current){clearInterval(timerRef.current);}const playerAnalysis=analyzeSpell(playerSpell);const npcAnalysis=analyzeSpell(npcSpell);// 마나 비용 안전하게 계산\nconst manaCost=playerAnalysis?playerAnalysis.manaCost||0:0;// 마나 부족 체크\nif(playerAnalysis&&playerAnalysis.spell&&playerAnalysis.spell.trim()&&manaCost>currentMP){// 마나 부족으로 게임오버\nsetGameState('gameover');setPlayerAnalysis(playerAnalysis);setNpcAnalysis(npcAnalysis);return;}// 마나 차감 (NaN 방지)\nif(playerAnalysis&&playerAnalysis.spell&&playerAnalysis.spell.trim()&&!isNaN(manaCost)){setCurrentMP(prev=>Math.max(0,prev-manaCost));}setPlayerAnalysis(playerAnalysis);setNpcAnalysis(npcAnalysis);const battle=calculateBattle(playerAnalysis,npcAnalysis);setBattleResult(battle);// 점수 업데이트\nif(battle){if(battle.result==='perfect_win'){setPlayerScore(prev=>prev+3);}else if(battle.result==='win'){setPlayerScore(prev=>prev+2);}else if(battle.result==='narrow_win'){setPlayerScore(prev=>prev+1);}else if(battle.result==='narrow_lose'){setNpcScore(prev=>prev+1);}else if(battle.result==='lose'){setNpcScore(prev=>prev+2);}else if(battle.result==='perfect_lose'){setNpcScore(prev=>prev+3);}}// 마나가 3 이하가 되면 게임오버 (다음 라운드를 위해)\nconst remainingMP=currentMP-manaCost;if(remainingMP<3){setGameState('gameover');}else{setGameState('result');}};// 다음 라운드\nconst nextRound=()=>{// 최소 마나로 다음 라운드 진행 가능한지 체크\nif(currentMP<3){setGameState('gameover');return;}setCurrentRound(prev=>prev+1);setGameState('ready');setBattleResult(null);setPlayerAnalysis(null);setNpcAnalysis(null);setEstimatedMP(0);};// 게임 리셋\nconst resetGame=()=>{setCurrentRound(1);setPlayerScore(0);setNpcScore(0);setCurrentMP(100);setGameState('ready');setBattleResult(null);setPlayerAnalysis(null);setNpcAnalysis(null);setEstimatedMP(0);setPlayerSpell('');if(timerRef.current){clearInterval(timerRef.current);}};// 엔터 키 처리\nconst handleKeyPress=e=>{if(e.key==='Enter'&&gameState==='playing'){endRound();}};// 정리\nuseEffect(()=>{return()=>{if(timerRef.current){clearInterval(timerRef.current);}};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-black/30 border-b border-purple-500/30 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-5xl font-bold mb-2 flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(Zap,{className:\"text-yellow-400 w-12 h-12\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\",children:\"\\uB9C8\\uBC95 \\uC8FC\\uBB38 \\uD0C0\\uC774\\uD551 \\uAC8C\\uC784\"}),/*#__PURE__*/_jsx(Star,{className:\"text-blue-400 w-12 h-12\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl opacity-80 mb-4\",children:\"\\uCC3D\\uC758\\uC801\\uC778 \\uB9C8\\uBC95 \\uC8FC\\uBB38\\uC73C\\uB85C NPC\\uC640 \\uB300\\uACB0\\uD558\\uC138\\uC694!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/40 rounded-xl p-4 border border-purple-500/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-300\",children:\"\\uB77C\\uC6B4\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl text-yellow-400 ml-2\",children:currentRound})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 text-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sword,{className:\"w-5 h-5 text-blue-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-400 font-bold\",children:playerScore})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"vs\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5 text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400 font-bold\",children:npcScore})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 text-cyan-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-cyan-400\",children:currentMP}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/100 MP\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-cyan-300 font-medium\",children:\"\\uB9C8\\uB098 \\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-sm\",children:[currentMP<=10&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-red-400 font-bold animate-pulse\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB9C8\\uB098 \\uC704\\uD5D8!\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\uC644\\uBCBD\\uC2B9\\uB9AC: 3\\uC810 | \\uC2B9\\uB9AC: 2\\uC810 | \\uC544\\uC2AC\\uC2B9\\uB9AC: 1\\uC810\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-800 rounded-full h-4 border border-gray-600\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-4 rounded-full transition-all duration-500 ${currentMP>60?'bg-gradient-to-r from-cyan-500 to-blue-500':currentMP>30?'bg-gradient-to-r from-yellow-500 to-orange-500':currentMP>10?'bg-gradient-to-r from-orange-500 to-red-500':'bg-gradient-to-r from-red-500 to-red-700 animate-pulse'}`,style:{width:`${currentMP}%`}})})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-6\",children:[gameState==='gameover'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/40 rounded-xl p-8 text-center border border-red-500/50 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-5xl font-bold mb-4 text-red-400\",children:\"\\uAC8C\\uC784 \\uC624\\uBC84!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl mb-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:\"\\uB9C8\\uB098\\uAC00 \\uBD80\\uC871\\uD569\\uB2C8\\uB2E4!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-300\",children:[\"\\uB77C\\uC6B4\\uB4DC \",currentRound,\"\\uC5D0\\uC11C \\uAC8C\\uC784 \\uC885\\uB8CC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-6 mb-6 border border-gray-600\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold mb-4 text-purple-300\",children:\"\\uCD5C\\uC885 \\uACB0\\uACFC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-900/30 rounded-lg p-4 border border-blue-500/30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-bold text-blue-400 mb-2\",children:playerScore}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-blue-300\",children:\"\\uD50C\\uB808\\uC774\\uC5B4 \\uC810\\uC218\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/30 rounded-lg p-4 border border-red-500/30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-bold text-red-400 mb-2\",children:npcScore}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-red-300\",children:\"NPC \\uC810\\uC218\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-lg space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uB3C4\\uB2EC \\uB77C\\uC6B4\\uB4DC: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-yellow-400\",children:currentRound})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uB0A8\\uC740 \\uB9C8\\uB098: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-cyan-400\",children:[currentMP,\"MP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uACB0\\uACFC: \",/*#__PURE__*/_jsx(\"span\",{className:`font-bold text-2xl ${playerScore>npcScore?'text-green-400':playerScore<npcScore?'text-red-400':'text-yellow-400'}`,children:playerScore>npcScore?'🏆 최종 승리!':playerScore<npcScore?'💀 최종 패배!':'🤝 무승부!'})]})]})]}),playerAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-4 mb-6 border border-gray-600\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2 text-orange-300\",children:\"\\uB9C8\\uC9C0\\uB9C9 \\uC2DC\\uB3C4\\uD55C \\uC8FC\\uBB38\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-blue-300 mb-2\",children:[\"\\\"\",playerAnalysis.spell||'(빈 주문)',\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-400\",children:[\"\\uD544\\uC694 \\uB9C8\\uB098: \",playerAnalysis.manaCost||0,\"MP (\\uBCF4\\uC720: \",currentMP,\"MP)\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"\\uD83C\\uDFAE \\uB2E4\\uC2DC \\uC2DC\\uC791\"})]})}),gameState==='ready'&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-8 mb-6 border border-purple-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold mb-4 text-purple-300\",children:[\"\\uB77C\\uC6B4\\uB4DC \",currentRound,\" \\uC900\\uBE44!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-6 text-gray-300\",children:\"10\\uCD08 \\uC548\\uC5D0 \\uCC3D\\uC758\\uC801\\uC778 \\uB9C8\\uBC95 \\uC8FC\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6 mb-6 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/20 rounded-lg p-4 border border-red-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-400 mb-2\",children:\"\\uD83D\\uDD25 \\uAE30\\uBCF8 \\uC18D\\uC131:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uBD88, \\uBB3C, \\uC5BC\\uC74C, \\uBC14\\uB78C, \\uBC88\\uAC1C, \\uB545, \\uBE5B, \\uC5B4\\uB460\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-400 mt-2\",children:\"\\u2B50 \\uD2B9\\uC218 \\uC18D\\uC131:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uB3C5, \\uC0DD\\uBA85, \\uC2DC\\uAC04, \\uACF5\\uAC04, \\uC815\\uC2E0 \\uB4F1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-900/20 rounded-lg p-4 border border-orange-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-orange-400 mb-2\",children:\"\\u2694\\uFE0F \\uB9C8\\uBC95 \\uD615\\uD0DC:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uAD6C\\uCCB4, \\uCC3D, \\uAC80, \\uBC29\\uD328, \\uD654\\uC0B4, \\uD3ED\\uBC1C, \\uD68C\\uC624\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-orange-400 mt-2\",children:\"\\uD83C\\uDF1F \\uD2B9\\uC218 \\uD615\\uD0DC:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uCC44\\uCC0D, \\uB36B, \\uBE54, \\uC548\\uAC1C, \\uC0AC\\uC2AC \\uB4F1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-pink-900/20 rounded-lg p-4 border border-pink-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-pink-400 mb-2\",children:\"\\u2728 \\uC218\\uC2DD\\uC5B4:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uAC70\\uB300\\uD55C, \\uC791\\uC5F4\\uD558\\uB294, \\uBE60\\uB978, \\uB0A0\\uCE74\\uB85C\\uC6B4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-pink-400 mt-2\",children:\"\\uD83D\\uDC8E \\uD2B9\\uC218 \\uC218\\uC2DD\\uC5B4:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"\\uC800\\uC8FC\\uBC1B\\uC740, \\uC804\\uC124\\uC758, \\uAE08\\uC9C0\\uB41C \\uB4F1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-900/20 rounded-lg p-4 border border-yellow-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-yellow-400 mb-2\",children:\"\\uD83D\\uDCA1 \\uACE0\\uB4DD\\uC810 \\uD301:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-sm text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uC18D\\uC131 + \\uD615\\uD0DC \\uC870\\uD569 \\uBCF4\\uB108\\uC2A4 \\uD65C\\uC6A9 (\\uC608: \\uBD88+\\uAC80 = \\uD654\\uC5FC\\uAC80)\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uC0C1\\uC131 \\uC2DC\\uC2A4\\uD15C \\uD65C\\uC6A9 (\\uBD88 > \\uC5BC\\uC74C, \\uBB3C > \\uBD88, \\uBC88\\uAC1C > \\uBB3C)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uAE34 \\uBB38\\uC7A5\\uC77C\\uC218\\uB85D \\uBCF5\\uC7A1\\uB3C4 \\uBCF4\\uB108\\uC2A4 \\uD68D\\uB4DD\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uD2B9\\uC218 \\uC218\\uC2DD\\uC5B4\\uB85C \\uC704\\uB825 \\uAC15\\uD654\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/20 rounded-lg p-4 border border-red-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-400 mb-2\",children:\"\\u26A0\\uFE0F \\uB9C8\\uB098 \\uC2DC\\uC2A4\\uD15C:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-sm text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uC2DC\\uC791 \\uB9C8\\uB098: 100MP (\\uB77C\\uC6B4\\uB4DC\\uB9C8\\uB2E4 \\uD68C\\uBCF5\\uB418\\uC9C0 \\uC54A\\uC74C)\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uAE30\\uBCF8 \\uC8FC\\uBB38: 3-6MP, \\uAC15\\uB825\\uD55C \\uC8FC\\uBB38: 10-20MP\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uB9C8\\uB098 \\uBD80\\uC871 \\uC2DC \\uAC8C\\uC784\\uC624\\uBC84! \\uD6A8\\uC728\\uC801 \\uB9C8\\uB098 \\uAD00\\uB9AC\\uAC00 \\uD544\\uC218\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-cyan-300\",children:\"\\uD83D\\uDC8E \\uD6A8\\uC728\\uC801\\uC778 \\uC8FC\\uBB38 \\uC608\\uC2DC:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\\"\\uBD88 \\uD654\\uC0B4\\\" (4MP, 13\\uC704\\uB825) - \\uD6A8\\uC728\\uC131: 3.25\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\\"\\uBE60\\uB978 \\uC5BC\\uC74C \\uCC3D\\\" (5MP, 19\\uC704\\uB825) - \\uD6A8\\uC728\\uC131: 3.80\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300\",children:\"\\u26A0\\uFE0F \\\"\\uC804\\uC124\\uC758 \\uAE08\\uC9C0\\uB41C \\uC8FD\\uC74C\\uC758 \\uB0AB\\\" (22MP)\"})]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:startGame,className:\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105 shadow-lg mt-6\",children:\"\\uD83D\\uDE80 \\uAC8C\\uC784 \\uC2DC\\uC791!\"})]})}),gameState==='playing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(Timer,{className:`w-8 h-8 ${timeLeft<=3?'text-red-400 animate-pulse':'text-yellow-400'}`}),/*#__PURE__*/_jsxs(\"span\",{className:`text-5xl font-bold ${timeLeft<=3?'text-red-400 animate-pulse':'text-yellow-400'}`,children:[timeLeft,\"\\uCD08\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-800 rounded-full h-3 border border-gray-600\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-3 rounded-full transition-all duration-1000 ${timeLeft>6?'bg-gradient-to-r from-green-500 to-green-400':timeLeft>3?'bg-gradient-to-r from-yellow-500 to-orange-500':'bg-gradient-to-r from-red-500 to-red-700 animate-pulse'}`,style:{width:`${timeLeft/10*100}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/20 rounded-xl p-6 border border-red-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-6 h-6 text-red-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-red-300\",children:\"NPC\\uC758 \\uC8FC\\uBB38\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-lg p-4 border border-red-500/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-2xl text-red-400 mb-2\",children:[\"\\\"\",npcSpell,\"\\\"\"]}),npcAnalysis&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300 space-y-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC704\\uB825: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 font-bold\",children:npcAnalysis.power})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC18D\\uB3C4: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-bold\",children:npcAnalysis.speed})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uB9C8\\uB098: \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-cyan-400 font-bold\",children:[npcAnalysis.manaCost,\"MP\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD6A8\\uC728\\uC131: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-400 font-bold\",children:npcAnalysis.efficiency})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-6 border border-purple-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-purple-300\",children:\"\\uB9C8\\uBC95 \\uC8FC\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`text-lg font-bold ${estimatedMP>currentMP?'text-red-400 animate-pulse':estimatedMP>currentMP*0.8?'text-yellow-400':'text-cyan-400'}`,children:[\"\\uC608\\uC0C1 \\uB9C8\\uB098: \",estimatedMP,\"MP\"]}),estimatedMP>currentMP&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-red-400 text-sm\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB9C8\\uB098 \\uBD80\\uC871!\"})]})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:playerSpell,onChange:e=>handleSpellChange(e.target.value),onKeyPress:handleKeyPress,placeholder:\"\\uC608: \\uC791\\uC5F4\\uD558\\uB294 \\uD478\\uB978 \\uBD88\\uAF43\\uC758 \\uCC3D\",className:`w-full p-4 text-xl rounded-lg bg-gray-800/80 border-2 focus:outline-none transition-all duration-300 ${estimatedMP>currentMP?'border-red-500 focus:border-red-400 text-red-300':'border-purple-500 focus:border-purple-400 text-white'} placeholder-gray-400`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-3 text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Enter \\uD0A4\\uB97C \\uB20C\\uB7EC \\uC8FC\\uBB38\\uC744 \\uC644\\uC131\\uD558\\uC138\\uC694\"}),estimatedMP>0&&playerSpell.trim()&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400\",children:[\"\\uC608\\uC0C1 \\uD6A8\\uC728\\uC131: \",((_analyzeSpell=analyzeSpell(playerSpell))===null||_analyzeSpell===void 0?void 0:_analyzeSpell.efficiency)||'0.00',\" \\uC704\\uB825/MP\"]})]})]})]}),gameState==='result'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-6 text-center border border-purple-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4 text-purple-300\",children:\"\\uC804\\uD22C \\uACB0\\uACFC\"}),battleResult&&/*#__PURE__*/_jsx(\"div\",{className:`text-5xl font-bold mb-4 ${battleResult.result==='perfect_win'?'text-green-300':battleResult.result==='win'?'text-green-400':battleResult.result==='narrow_win'?'text-green-500':battleResult.result==='narrow_lose'?'text-red-500':battleResult.result==='lose'?'text-red-400':battleResult.result==='perfect_lose'?'text-red-300':'text-yellow-400'}`,children:battleResult.result==='perfect_win'?'🏆 완벽한 승리!':battleResult.result==='win'?'🎉 승리!':battleResult.result==='narrow_win'?'😅 아슬아슬한 승리!':battleResult.result==='narrow_lose'?'😰 아슬아슬한 패배!':battleResult.result==='lose'?'😵 패배!':battleResult.result==='perfect_lose'?'💀 완전한 패배!':'🤝 무승부!'}),battleResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl mb-4 bg-black/20 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-400 font-bold\",children:[\"\\uD50C\\uB808\\uC774\\uC5B4 \\uCD5C\\uC885 \\uC704\\uB825: \",battleResult.playerPower]}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-4 text-gray-400\",children:\"vs\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-400 font-bold\",children:[\"NPC \\uCD5C\\uC885 \\uC704\\uB825: \",battleResult.npcPower]})]}),battleResult&&battleResult.advantageDetails.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 bg-black/20 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2 text-cyan-300\",children:\"\\uC804\\uD22C \\uBD84\\uC11D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm space-y-1\",children:battleResult.advantageDetails.map((detail,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-cyan-300\",children:[\"\\u2022 \",detail]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-900/30 rounded-xl p-6 border border-blue-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sword,{className:\"text-blue-400\"}),\"\\uD50C\\uB808\\uC774\\uC5B4\"]}),playerAnalysis?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-lg text-blue-300 bg-black/20 rounded p-2\",children:[\"\\\"\",playerAnalysis.spell||'(빈 주문)',\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC704\\uB825: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-yellow-400\",children:playerAnalysis.power})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uB3C4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-400\",children:playerAnalysis.speed})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uB9C8\\uB098: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-cyan-400\",children:[playerAnalysis.manaCost,\"MP\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD6A8\\uC728\\uC131: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-purple-400\",children:playerAnalysis.efficiency})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uBCF5\\uC7A1\\uB3C4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-orange-400\",children:playerAnalysis.complexity})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD0C0\\uC785: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-indigo-400\",children:playerAnalysis.type==='attack'?'공격':playerAnalysis.type==='defense'?'방어':playerAnalysis.type==='none'?'없음':'제어'})]})]})]}),(playerAnalysis.elements.length>0||playerAnalysis.forms.length>0||playerAnalysis.modifiers.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm space-y-1 bg-black/20 rounded p-2\",children:[playerAnalysis.elements.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uC131: \",playerAnalysis.elements.map(e=>{var _magicData$elements$e;return/*#__PURE__*/_jsx(\"span\",{className:`font-bold ${((_magicData$elements$e=magicData.elements[e])===null||_magicData$elements$e===void 0?void 0:_magicData$elements$e.color)||'text-white'} mr-1`,children:e},e);})]}),playerAnalysis.forms.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD615\\uD0DC: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-orange-400\",children:playerAnalysis.forms.join(', ')})]}),playerAnalysis.modifiers.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC218\\uC2DD\\uC5B4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-pink-400\",children:playerAnalysis.modifiers.join(', ')})]})]}),playerAnalysis.specialEffects.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm bg-purple-900/20 rounded p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-purple-300\",children:\"\\uD2B9\\uC218 \\uD6A8\\uACFC:\"}),playerAnalysis.specialEffects.map((effect,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-purple-200\",children:[\"\\u2022 \",effect]},index))]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"\\uC8FC\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/30 rounded-xl p-6 border border-red-500/30 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"text-red-400\"}),\"NPC\"]}),npcAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-lg text-red-300 bg-black/20 rounded p-2\",children:[\"\\\"\",npcAnalysis.spell,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC704\\uB825: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-yellow-400\",children:npcAnalysis.power})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uB3C4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-400\",children:npcAnalysis.speed})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uB9C8\\uB098: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-cyan-400\",children:[npcAnalysis.manaCost,\"MP\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD6A8\\uC728\\uC131: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-purple-400\",children:npcAnalysis.efficiency})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uBCF5\\uC7A1\\uB3C4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-orange-400\",children:npcAnalysis.complexity})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD0C0\\uC785: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-indigo-400\",children:npcAnalysis.type==='attack'?'공격':npcAnalysis.type==='defense'?'방어':'제어'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm space-y-1 bg-black/20 rounded p-2\",children:[npcAnalysis.elements.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uC131: \",npcAnalysis.elements.map(e=>{var _magicData$elements$e2;return/*#__PURE__*/_jsx(\"span\",{className:`font-bold ${((_magicData$elements$e2=magicData.elements[e])===null||_magicData$elements$e2===void 0?void 0:_magicData$elements$e2.color)||'text-white'} mr-1`,children:e},e);})]}),npcAnalysis.forms.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD615\\uD0DC: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-orange-400\",children:npcAnalysis.forms.join(', ')})]}),npcAnalysis.modifiers.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC218\\uC2DD\\uC5B4: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-pink-400\",children:npcAnalysis.modifiers.join(', ')})]})]}),npcAnalysis.specialEffects.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm bg-purple-900/20 rounded p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-purple-300\",children:\"\\uD2B9\\uC218 \\uD6A8\\uACFC:\"}),npcAnalysis.specialEffects.map((effect,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-purple-200\",children:[\"\\u2022 \",effect]},index))]})]})]})]}),battleResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/30 rounded-xl p-4 border border-gray-600 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-3 text-gray-300\",children:\"\\uC804\\uD22C \\uC0C1\\uC138 \\uBD84\\uC11D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-gray-300 mb-2\",children:\"\\uC6B0\\uC704 \\uC694\\uC18C \\uBD84\\uC11D\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uC131 \\uC0C1\\uC131: \",battleResult.elementAdvantage>0?'+':'',battleResult.elementAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD0C0\\uC785 \\uC0C1\\uC131: \",battleResult.typeAdvantage>0?'+':'',battleResult.typeAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC0AC\\uAC70\\uB9AC \\uC0C1\\uC131: \",battleResult.rangeAdvantage>0?'+':'',battleResult.rangeAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC18D\\uB3C4 \\uC6B0\\uC704: \",battleResult.speedAdvantage>0?'+':'',battleResult.speedAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uBCF5\\uC7A1\\uB3C4 \\uBCF4\\uB108\\uC2A4: \",battleResult.complexityAdvantage>0?'+':'',battleResult.complexityAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD2B9\\uC218 \\uD6A8\\uACFC: \",battleResult.specialAdvantage>0?'+':'',battleResult.specialAdvantage]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-gray-300 mb-2\",children:\"\\uCD1D \\uC6B0\\uC704 \\uC810\\uC218\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-yellow-400 mb-2\",children:[battleResult.totalAdvantage>0?'+':'',battleResult.totalAdvantage]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[\"\\uD50C\\uB808\\uC774\\uC5B4 \\uAE30\\uBCF8 \\uC704\\uB825 \",playerAnalysis?playerAnalysis.power-battleResult.totalAdvantage:0,\" + \\uC6B0\\uC704 \",battleResult.totalAdvantage,\" = \",battleResult.playerPower]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4\",children:[currentMP>=3?/*#__PURE__*/_jsx(\"button\",{onClick:nextRound,className:\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"\\u27A1\\uFE0F \\uB2E4\\uC74C \\uB77C\\uC6B4\\uB4DC\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-400 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB9C8\\uB098 \\uBD80\\uC871\\uC73C\\uB85C \\uB354 \\uC774\\uC0C1 \\uC9C4\\uD589\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameState('gameover'),className:\"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"\\uD83D\\uDC80 \\uAC8C\\uC784 \\uC885\\uB8CC\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:\"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"\\uD83D\\uDD04 \\uAC8C\\uC784 \\uB9AC\\uC14B\"})]})]})]})]});};export default MagicTypingGame;","map":{"version":3,"names":["React","useState","useEffect","useRef","Zap","Timer","Sword","Shield","Flame","Snowflake","Star","Eye","AlertTriangle","jsx","_jsx","jsxs","_jsxs","MagicTypingGame","_analyzeSpell","gameState","setGameState","playerSpell","setPlayerSpell","timeLeft","setTimeLeft","currentRound","setCurrentRound","playerScore","setPlayerScore","npcScore","setNpcScore","currentMP","setCurrentMP","battleResult","setBattleResult","npcSpell","setNpcSpell","playerAnalysis","setPlayerAnalysis","npcAnalysis","setNpcAnalysis","estimatedMP","setEstimatedMP","inputRef","timerRef","magicData","elements","power","weakness","strength","color","manaCost","forms","type","speed","range","modifiers","powerMult","speedMult","description","combos","powerBonus","speedBonus","npcSpells","calculateManaCost","spell","trim","words","split","totalCost","wordCount","forEach","word","cleanWord","replace","Math","max","handleSpellChange","value","estimatedCost","isNaN","analyzeSpell","complexity","specialEffects","basePower","baseSpeed","powerMultiplier","speedMultiplier","comboPower","comboSpeed","comboDescription","efficiency","spellType","push","modifier","mod","element","form","comboKey","combo","length","complexityPowerBonus","floor","complexitySpeedBonus","finalPower","finalSpeed","toFixed","calculateBattle","result","playerPower","npcPower","totalAdvantage","elementAdvantage","typeAdvantage","rangeAdvantage","speedAdvantage","complexityAdvantage","specialAdvantage","advantageDetails","playerSpeed","npcSpeed","playerElement","npcElement","playerElementData","speedDiff","complexityDiff","includes","finalPlayerPower","finalNpcPower","powerDiff","startGame","randomSpell","random","current","setInterval","prev","endRound","setTimeout","_inputRef$current","focus","clearInterval","battle","remainingMP","nextRound","resetGame","handleKeyPress","e","key","className","children","style","width","onClick","ref","onChange","target","onKeyPress","placeholder","map","detail","index","_magicData$elements$e","join","effect","_magicData$elements$e2"],"sources":["C:/Users/ubob_digital/magic-typing-game/src/MagicTypingGame.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Zap, Timer, Sword, Shield, Flame, Snowflake, Star, Eye, AlertTriangle } from 'lucide-react';\r\n\r\nconst MagicTypingGame = () => {\r\n  const [gameState, setGameState] = useState('ready'); // ready, playing, result, gameover\r\n  const [playerSpell, setPlayerSpell] = useState('');\r\n  const [timeLeft, setTimeLeft] = useState(10);\r\n  const [currentRound, setCurrentRound] = useState(1);\r\n  const [playerScore, setPlayerScore] = useState(0);\r\n  const [npcScore, setNpcScore] = useState(0);\r\n  const [currentMP, setCurrentMP] = useState(100); // 마나포인트\r\n  const [battleResult, setBattleResult] = useState(null);\r\n  const [npcSpell, setNpcSpell] = useState('');\r\n  const [playerAnalysis, setPlayerAnalysis] = useState(null);\r\n  const [npcAnalysis, setNpcAnalysis] = useState(null);\r\n  const [estimatedMP, setEstimatedMP] = useState(0); // 예상 마나 비용\r\n  \r\n  const inputRef = useRef(null);\r\n  const timerRef = useRef(null);\r\n\r\n  // 마법 분석 데이터\r\n  const magicData = {\r\n    elements: {\r\n      // 기본 속성 (마나 비용 대폭 감소)\r\n      '불': { power: 8, weakness: '물', strength: '얼음', color: 'text-red-500', manaCost: 2 },\r\n      '화염': { power: 8, weakness: '물', strength: '얼음', color: 'text-red-500', manaCost: 2 },\r\n      '불꽃': { power: 7, weakness: '물', strength: '얼음', color: 'text-red-500', manaCost: 2 },\r\n      '용암': { power: 10, weakness: '물', strength: '얼음', color: 'text-red-600', manaCost: 4 },\r\n      '화염술': { power: 9, weakness: '물', strength: '얼음', color: 'text-red-500', manaCost: 3 },\r\n      \r\n      '물': { power: 6, weakness: '번개', strength: '불', color: 'text-blue-500', manaCost: 2 },\r\n      '얼음': { power: 6, weakness: '불', strength: '바람', color: 'text-cyan-500', manaCost: 2 },\r\n      '서리': { power: 7, weakness: '불', strength: '바람', color: 'text-cyan-400', manaCost: 3 },\r\n      '빙하': { power: 9, weakness: '불', strength: '바람', color: 'text-cyan-600', manaCost: 4 },\r\n      '냉기': { power: 5, weakness: '불', strength: '바람', color: 'text-cyan-300', manaCost: 2 },\r\n      \r\n      '바람': { power: 5, weakness: '얼음', strength: '번개', color: 'text-green-500', manaCost: 2 },\r\n      '폭풍': { power: 8, weakness: '얼음', strength: '번개', color: 'text-green-600', manaCost: 3 },\r\n      '회오리바람': { power: 7, weakness: '얼음', strength: '번개', color: 'text-green-500', manaCost: 3 },\r\n      '돌풍': { power: 6, weakness: '얼음', strength: '번개', color: 'text-green-400', manaCost: 2 },\r\n      \r\n      '번개': { power: 9, weakness: '바람', strength: '물', color: 'text-yellow-500', manaCost: 3 },\r\n      '전기': { power: 8, weakness: '바람', strength: '물', color: 'text-yellow-400', manaCost: 3 },\r\n      '뇌전': { power: 10, weakness: '바람', strength: '물', color: 'text-yellow-600', manaCost: 4 },\r\n      '전광': { power: 9, weakness: '바람', strength: '물', color: 'text-yellow-500', manaCost: 3 },\r\n      \r\n      '땅': { power: 7, weakness: '바람', strength: '번개', color: 'text-amber-700', manaCost: 2 },\r\n      '돌': { power: 6, weakness: '바람', strength: '번개', color: 'text-gray-500', manaCost: 2 },\r\n      '바위': { power: 8, weakness: '바람', strength: '번개', color: 'text-gray-600', manaCost: 3 },\r\n      '철': { power: 9, weakness: '바람', strength: '번개', color: 'text-gray-700', manaCost: 3 },\r\n      '강철': { power: 10, weakness: '바람', strength: '번개', color: 'text-gray-800', manaCost: 4 },\r\n      \r\n      '빛': { power: 8, weakness: '어둠', strength: '어둠', color: 'text-yellow-300', manaCost: 3 },\r\n      '성스러운': { power: 9, weakness: '어둠', strength: '어둠', color: 'text-yellow-200', manaCost: 4 },\r\n      '신성한': { power: 10, weakness: '어둠', strength: '어둠', color: 'text-yellow-100', manaCost: 5 },\r\n      '태양': { power: 11, weakness: '어둠', strength: '어둠', color: 'text-yellow-400', manaCost: 6 },\r\n      \r\n      '어둠': { power: 8, weakness: '빛', strength: '빛', color: 'text-purple-500', manaCost: 3 },\r\n      '암흑': { power: 9, weakness: '빛', strength: '빛', color: 'text-purple-600', manaCost: 4 },\r\n      '저주': { power: 10, weakness: '빛', strength: '빛', color: 'text-purple-700', manaCost: 5 },\r\n      '죽음': { power: 12, weakness: '빛', strength: '빛', color: 'text-purple-800', manaCost: 7 },\r\n      \r\n      // 특수 속성\r\n      '독': { power: 7, weakness: '빛', strength: '생명', color: 'text-green-700', manaCost: 3 },\r\n      '산': { power: 8, weakness: '물', strength: '금속', color: 'text-green-600', manaCost: 3 },\r\n      '생명': { power: 6, weakness: '독', strength: '어둠', color: 'text-green-300', manaCost: 4 },\r\n      '치유': { power: 4, weakness: '독', strength: '어둠', color: 'text-green-200', manaCost: 3 },\r\n      '시간': { power: 15, weakness: '공간', strength: '물질', color: 'text-purple-300', manaCost: 8 },\r\n      '공간': { power: 15, weakness: '시간', strength: '물질', color: 'text-blue-300', manaCost: 8 },\r\n      '정신': { power: 10, weakness: '물질', strength: '시간', color: 'text-pink-400', manaCost: 5 },\r\n      '환상': { power: 9, weakness: '빛', strength: '정신', color: 'text-pink-500', manaCost: 4 }\r\n    },\r\n    forms: {\r\n      // 기본 형태 (마나 비용 대폭 감소)\r\n      '구체': { power: 3, type: 'projectile', speed: 7, range: 'medium', manaCost: 1 },\r\n      '볼': { power: 3, type: 'projectile', speed: 7, range: 'medium', manaCost: 1 },\r\n      '공': { power: 2, type: 'projectile', speed: 8, range: 'medium', manaCost: 1 },\r\n      \r\n      '창': { power: 8, type: 'projectile', speed: 6, range: 'long', manaCost: 2 },\r\n      '스피어': { power: 8, type: 'projectile', speed: 6, range: 'long', manaCost: 2 },\r\n      '작살': { power: 9, type: 'projectile', speed: 5, range: 'long', manaCost: 3 },\r\n      '투창': { power: 7, type: 'projectile', speed: 7, range: 'long', manaCost: 2 },\r\n      \r\n      '검': { power: 10, type: 'melee', speed: 4, range: 'short', manaCost: 3 },\r\n      '칼': { power: 9, type: 'melee', speed: 5, range: 'short', manaCost: 3 },\r\n      '도검': { power: 11, type: 'melee', speed: 3, range: 'short', manaCost: 4 },\r\n      '검날': { power: 10, type: 'melee', speed: 4, range: 'short', manaCost: 3 },\r\n      \r\n      '방패': { power: 5, type: 'defense', speed: 2, range: 'self', manaCost: 2 },\r\n      '보호막': { power: 6, type: 'defense', speed: 3, range: 'self', manaCost: 2 },\r\n      '장벽': { power: 7, type: 'defense', speed: 1, range: 'area', manaCost: 3 },\r\n      '벽': { power: 8, type: 'defense', speed: 1, range: 'area', manaCost: 3 },\r\n      \r\n      '화살': { power: 5, type: 'projectile', speed: 9, range: 'long', manaCost: 2 },\r\n      '화살촉': { power: 6, type: 'projectile', speed: 8, range: 'long', manaCost: 2 },\r\n      '탄환': { power: 7, type: 'projectile', speed: 10, range: 'long', manaCost: 2 },\r\n      \r\n      '폭발': { power: 12, type: 'area', speed: 3, range: 'area', manaCost: 4 },\r\n      '폭탄': { power: 13, type: 'area', speed: 2, range: 'area', manaCost: 5 },\r\n      '터짐': { power: 11, type: 'area', speed: 4, range: 'area', manaCost: 4 },\r\n      \r\n      '회오리': { power: 9, type: 'area', speed: 5, range: 'area', manaCost: 3 },\r\n      '소용돌이': { power: 10, type: 'area', speed: 4, range: 'area', manaCost: 4 },\r\n      '토네이도': { power: 11, type: 'area', speed: 3, range: 'area', manaCost: 5 },\r\n      \r\n      // 특수 형태\r\n      '채찍': { power: 7, type: 'melee', speed: 6, range: 'medium', manaCost: 2 },\r\n      '망치': { power: 12, type: 'melee', speed: 2, range: 'short', manaCost: 4 },\r\n      '도끼': { power: 11, type: 'melee', speed: 3, range: 'short', manaCost: 4 },\r\n      '낫': { power: 10, type: 'melee', speed: 4, range: 'medium', manaCost: 3 },\r\n      \r\n      '덫': { power: 6, type: 'trap', speed: 1, range: 'area', manaCost: 3 },\r\n      '감옥': { power: 8, type: 'control', speed: 2, range: 'target', manaCost: 4 },\r\n      '사슬': { power: 7, type: 'control', speed: 3, range: 'medium', manaCost: 3 },\r\n      '밧줄': { power: 5, type: 'control', speed: 4, range: 'medium', manaCost: 2 },\r\n      \r\n      '빔': { power: 9, type: 'projectile', speed: 10, range: 'long', manaCost: 4 },\r\n      '레이저': { power: 10, type: 'projectile', speed: 10, range: 'long', manaCost: 5 },\r\n      '광선': { power: 8, type: 'projectile', speed: 9, range: 'long', manaCost: 3 },\r\n      \r\n      '구름': { power: 6, type: 'area', speed: 2, range: 'area', manaCost: 3 },\r\n      '안개': { power: 4, type: 'area', speed: 3, range: 'area', manaCost: 2 },\r\n      '비': { power: 5, type: 'area', speed: 4, range: 'area', manaCost: 2 },\r\n      '눈': { power: 4, type: 'area', speed: 3, range: 'area', manaCost: 2 }\r\n    },\r\n    modifiers: {\r\n      // 크기 수식어 (마나 비용 대폭 감소)\r\n      '거대한': { powerMult: 1.8, speedMult: 0.6, description: '크기가 매우 큰', manaCost: 3 },\r\n      '큰': { powerMult: 1.4, speedMult: 0.8, description: '크기가 큰', manaCost: 2 },\r\n      '작은': { powerMult: 0.7, speedMult: 1.3, description: '크기가 작은', manaCost: 0 },\r\n      '미세한': { powerMult: 0.5, speedMult: 1.6, description: '크기가 매우 작은', manaCost: 0 },\r\n      '초대형': { powerMult: 2.2, speedMult: 0.4, description: '크기가 초대형인', manaCost: 5 },\r\n      \r\n      // 속도 수식어\r\n      '빠른': { powerMult: 0.8, speedMult: 1.8, description: '속도가 빠른', manaCost: 1 },\r\n      '신속한': { powerMult: 0.9, speedMult: 1.6, description: '속도가 신속한', manaCost: 2 },\r\n      '느린': { powerMult: 1.3, speedMult: 0.7, description: '속도가 느린', manaCost: 0 },\r\n      '번개같은': { powerMult: 0.7, speedMult: 2.0, description: '번개처럼 빠른', manaCost: 3 },\r\n      '순간의': { powerMult: 0.6, speedMult: 2.2, description: '순간적인', manaCost: 4 },\r\n      \r\n      // 강도 수식어\r\n      '강력한': { powerMult: 1.6, speedMult: 0.9, description: '위력이 강한', manaCost: 2 },\r\n      '약한': { powerMult: 0.6, speedMult: 1.2, description: '위력이 약한', manaCost: 0 },\r\n      '치명적인': { powerMult: 2.0, speedMult: 0.8, description: '치명적인', manaCost: 4 },\r\n      '파괴적인': { powerMult: 1.9, speedMult: 0.7, description: '파괴적인', manaCost: 4 },\r\n      '무시무시한': { powerMult: 1.7, speedMult: 0.8, description: '무시무시한', manaCost: 3 },\r\n      \r\n      // 형태 수식어\r\n      '날카로운': { powerMult: 1.4, speedMult: 1.2, description: '날카로운', manaCost: 2 },\r\n      '뾰족한': { powerMult: 1.3, speedMult: 1.1, description: '뾰족한', manaCost: 1 },\r\n      '둥근': { powerMult: 0.9, speedMult: 1.1, description: '둥근', manaCost: 0 },\r\n      '뒤틀린': { powerMult: 1.2, speedMult: 0.9, description: '뒤틀린', manaCost: 1 },\r\n      '곡선의': { powerMult: 1.1, speedMult: 1.0, description: '곡선의', manaCost: 1 },\r\n      \r\n      // 상태 수식어\r\n      '작열하는': { powerMult: 1.5, speedMult: 1.0, description: '작열하는', manaCost: 2 },\r\n      '얼어붙은': { powerMult: 1.3, speedMult: 0.8, description: '얼어붙은', manaCost: 2 },\r\n      '끓어오르는': { powerMult: 1.4, speedMult: 1.1, description: '끓어오르는', manaCost: 2 },\r\n      '타오르는': { powerMult: 1.6, speedMult: 0.9, description: '타오르는', manaCost: 3 },\r\n      '썩은': { powerMult: 1.2, speedMult: 0.7, description: '썩은', manaCost: 1 },\r\n      '독성의': { powerMult: 1.3, speedMult: 0.8, description: '독성의', manaCost: 2 },\r\n      \r\n      // 질감 수식어\r\n      '투명한': { powerMult: 1.1, speedMult: 1.4, description: '투명한', manaCost: 2 },\r\n      '반투명한': { powerMult: 1.0, speedMult: 1.2, description: '반투명한', manaCost: 1 },\r\n      '불투명한': { powerMult: 1.2, speedMult: 0.9, description: '불투명한', manaCost: 1 },\r\n      '흐릿한': { powerMult: 0.9, speedMult: 1.1, description: '흐릿한', manaCost: 1 },\r\n      '선명한': { powerMult: 1.1, speedMult: 1.0, description: '선명한', manaCost: 1 },\r\n      \r\n      // 패턴 수식어\r\n      '연속된': { powerMult: 1.4, speedMult: 1.2, description: '연속된', manaCost: 2 },\r\n      '다중의': { powerMult: 1.5, speedMult: 0.9, description: '다중의', manaCost: 3 },\r\n      '단일의': { powerMult: 1.2, speedMult: 1.1, description: '단일의', manaCost: 1 },\r\n      '폭발하는': { powerMult: 1.8, speedMult: 0.7, description: '폭발하는', manaCost: 4 },\r\n      '분열하는': { powerMult: 1.3, speedMult: 1.0, description: '분열하는', manaCost: 3 },\r\n      \r\n      // 색상 수식어\r\n      '붉은': { powerMult: 1.2, speedMult: 1.0, description: '붉은색의', manaCost: 1 },\r\n      '푸른': { powerMult: 1.1, speedMult: 1.1, description: '푸른색의', manaCost: 1 },\r\n      '노란': { powerMult: 1.0, speedMult: 1.2, description: '노란색의', manaCost: 1 },\r\n      '검은': { powerMult: 1.3, speedMult: 0.9, description: '검은색의', manaCost: 1 },\r\n      '흰': { powerMult: 1.1, speedMult: 1.0, description: '흰색의', manaCost: 1 },\r\n      '보라': { powerMult: 1.2, speedMult: 0.95, description: '보라색의', manaCost: 1 },\r\n      '초록': { powerMult: 1.0, speedMult: 1.1, description: '초록색의', manaCost: 1 },\r\n      '금색': { powerMult: 1.4, speedMult: 0.9, description: '금색의', manaCost: 2 },\r\n      '은색': { powerMult: 1.2, speedMult: 1.0, description: '은색의', manaCost: 2 },\r\n      \r\n      // 특수 수식어\r\n      '저주받은': { powerMult: 1.7, speedMult: 0.8, description: '저주받은', manaCost: 4 },\r\n      '축복받은': { powerMult: 1.6, speedMult: 1.1, description: '축복받은', manaCost: 4 },\r\n      '신성한': { powerMult: 1.8, speedMult: 1.0, description: '신성한', manaCost: 5 },\r\n      '사악한': { powerMult: 1.5, speedMult: 0.9, description: '사악한', manaCost: 3 },\r\n      '고대의': { powerMult: 1.9, speedMult: 0.7, description: '고대의', manaCost: 6 },\r\n      '전설의': { powerMult: 2.1, speedMult: 0.8, description: '전설의', manaCost: 7 },\r\n      '금지된': { powerMult: 2.3, speedMult: 0.6, description: '금지된', manaCost: 8 },\r\n      \r\n      // 감정 수식어\r\n      '분노의': { powerMult: 1.5, speedMult: 1.2, description: '분노의', manaCost: 2 },\r\n      '슬픔의': { powerMult: 1.2, speedMult: 0.8, description: '슬픔의', manaCost: 2 },\r\n      '기쁨의': { powerMult: 1.1, speedMult: 1.3, description: '기쁨의', manaCost: 1 },\r\n      '절망의': { powerMult: 1.7, speedMult: 0.7, description: '절망의', manaCost: 4 },\r\n      '희망의': { powerMult: 1.3, speedMult: 1.1, description: '희망의', manaCost: 2 }\r\n    },\r\n    // 특수 조합 보너스\r\n    combos: {\r\n      '불+검': { powerBonus: 3, speedBonus: 1, description: '화염검 효과' },\r\n      '얼음+창': { powerBonus: 2, speedBonus: 2, description: '빙창 효과' },\r\n      '번개+화살': { powerBonus: 1, speedBonus: 4, description: '뇌전화살 효과' },\r\n      '어둠+낫': { powerBonus: 4, speedBonus: 0, description: '죽음의 낫 효과' },\r\n      '빛+방패': { powerBonus: 2, speedBonus: 1, description: '성스러운 방어 효과' },\r\n      '폭풍+회오리': { powerBonus: 3, speedBonus: 2, description: '폭풍우 효과' },\r\n      '용암+폭발': { powerBonus: 5, speedBonus: -1, description: '화산 폭발 효과' }\r\n    }\r\n  };\r\n\r\n  const npcSpells = [\r\n    // 기본 주문\r\n    '얼음 창', '불 구체', '번개 검', '바람 방패', '돌 망치', '물 화살',\r\n    \r\n    // 중급 주문\r\n    '거대한 용암 폭발', '날카로운 번개 창', '작열하는 불 검', '투명한 얼음 벽',\r\n    '빠른 바람 회오리', '강력한 땅 주먹', '신속한 빛 빔', '어둠 사슬',\r\n    \r\n    // 고급 주문\r\n    '치명적인 저주받은 어둠의 낫', '전설의 태양 광선', '거대한 얼어붙은 빙하 폭발',\r\n    '연속된 번개 화살', '폭발하는 용암 구체', '투명한 바람 칼날',\r\n    \r\n    // 특수 주문\r\n    '금지된 죽음의 검', '축복받은 성스러운 방패', '분노의 불꽃 폭풍',\r\n    '시간의 정지 구슬', '공간의 균열 창', '생명의 치유 빛',\r\n    \r\n    // 색상 주문\r\n    '푸른 얼음 창', '붉은 화염 폭발', '금색 빛 검', '보라 어둠 구름',\r\n    '은색 바람 화살', '검은 저주 사슬', '흰 치유 구체',\r\n    \r\n    // 감정 주문\r\n    '분노의 불꽃 회오리', '슬픔의 물 방울', '절망의 어둠 안개',\r\n    '기쁨의 빛 폭발', '희망의 치유 빔',\r\n    \r\n    // 복잡한 조합 주문\r\n    '거대한 작열하는 붉은 용암 도끼', '빠른 투명한 얼음 바늘',\r\n    '연속된 날카로운 번개 검날', '폭발하는 어둠 독 구름',\r\n    '치명적인 고대의 저주 망치', '신성한 금색 빛 방패 벽',\r\n    \r\n    // 특수 효과 주문\r\n    '분열하는 다중 화살', '뒤틀린 공간 균열', '끓어오르는 산 비',\r\n    '썩은 독 안개', '반투명한 환상 검', '무시무시한 죽음 광선'\r\n  ];\r\n\r\n  // 마나 계산 함수 (버그 수정)\r\n  const calculateManaCost = (spell) => {\r\n    if (!spell || !spell.trim()) return 0;\r\n    \r\n    const words = spell.trim().split(/\\s+/);\r\n    let totalCost = 0;\r\n    let wordCount = 0;\r\n    \r\n    words.forEach(word => {\r\n      if (!word.trim()) return; // 빈 단어 스킵\r\n      \r\n      const cleanWord = word.replace(/[의를이가은는로으로에서으로서처럼같은]+$/, '');\r\n      \r\n      if (magicData.elements[cleanWord]) {\r\n        totalCost += magicData.elements[cleanWord].manaCost || 0;\r\n        wordCount++;\r\n      } else if (magicData.forms[cleanWord]) {\r\n        totalCost += magicData.forms[cleanWord].manaCost || 0;\r\n        wordCount++;\r\n      } else if (magicData.modifiers[cleanWord]) {\r\n        totalCost += magicData.modifiers[cleanWord].manaCost || 0;\r\n        wordCount++;\r\n      } else {\r\n        // 인식되지 않은 단어는 기본 1 마나\r\n        totalCost += 1;\r\n        wordCount++;\r\n      }\r\n    });\r\n    \r\n    // 복잡도 추가 비용 (5단어 이상일 때)\r\n    if (wordCount >= 5) {\r\n      totalCost += (wordCount - 4) * 1;\r\n    }\r\n    \r\n    return Math.max(1, totalCost);\r\n  };\r\n\r\n  // 실시간 마나 계산 (버그 수정)\r\n  const handleSpellChange = (value) => {\r\n    setPlayerSpell(value);\r\n    const estimatedCost = calculateManaCost(value);\r\n    setEstimatedMP(isNaN(estimatedCost) ? 0 : estimatedCost);\r\n  };\r\n\r\n  // 주문 분석 함수 (빈 입력 처리 개선)\r\n  const analyzeSpell = (spell) => {\r\n    if (!spell || !spell.trim()) {\r\n      return {\r\n        spell: '',\r\n        power: 0,\r\n        speed: 0,\r\n        elements: [],\r\n        forms: [],\r\n        modifiers: [],\r\n        complexity: 0,\r\n        type: 'none',\r\n        range: 'none',\r\n        specialEffects: [],\r\n        basePower: 0,\r\n        baseSpeed: 0,\r\n        powerMultiplier: 1,\r\n        speedMultiplier: 1,\r\n        comboPower: 0,\r\n        comboSpeed: 0,\r\n        comboDescription: '',\r\n        manaCost: 0,\r\n        efficiency: 0\r\n      };\r\n    }\r\n    \r\n    const words = spell.trim().split(/\\s+/);\r\n    let basePower = 0;\r\n    let baseSpeed = 0;\r\n    let elements = [];\r\n    let forms = [];\r\n    let modifiers = [];\r\n    let spellType = 'attack';\r\n    let range = 'medium';\r\n    \r\n    // 1단계: 기본 요소 식별 및 기본 스탯 계산\r\n    words.forEach(word => {\r\n      if (!word.trim()) return; // 빈 단어 스킵\r\n      \r\n      // 조사 제거\r\n      const cleanWord = word.replace(/[의를이가은는로으로에서으로서처럼같은]+$/, '');\r\n      \r\n      if (magicData.elements[cleanWord]) {\r\n        elements.push(cleanWord);\r\n        basePower += magicData.elements[cleanWord].power || 0;\r\n        baseSpeed += 3; // 속성 기본 속도\r\n      } else if (magicData.forms[cleanWord]) {\r\n        forms.push(cleanWord);\r\n        basePower += magicData.forms[cleanWord].power || 0;\r\n        baseSpeed += magicData.forms[cleanWord].speed || 0;\r\n        range = magicData.forms[cleanWord].range || 'medium';\r\n        if (magicData.forms[cleanWord].type === 'defense') {\r\n          spellType = 'defense';\r\n        } else if (magicData.forms[cleanWord].type === 'control') {\r\n          spellType = 'control';\r\n        }\r\n      } else if (magicData.modifiers[cleanWord]) {\r\n        modifiers.push(cleanWord);\r\n      }\r\n    });\r\n    \r\n    // 2단계: 수식어 배수 적용\r\n    let powerMultiplier = 1;\r\n    let speedMultiplier = 1;\r\n    \r\n    modifiers.forEach(modifier => {\r\n      const mod = magicData.modifiers[modifier];\r\n      if (mod) {\r\n        powerMultiplier *= (mod.powerMult || 1);\r\n        speedMultiplier *= (mod.speedMult || 1);\r\n      }\r\n    });\r\n    \r\n    // 3단계: 조합 보너스 계산\r\n    let comboPower = 0;\r\n    let comboSpeed = 0;\r\n    let comboDescription = '';\r\n    \r\n    elements.forEach(element => {\r\n      forms.forEach(form => {\r\n        const comboKey = `${element}+${form}`;\r\n        if (magicData.combos[comboKey]) {\r\n          const combo = magicData.combos[comboKey];\r\n          comboPower += combo.powerBonus || 0;\r\n          comboSpeed += combo.speedBonus || 0;\r\n          comboDescription = combo.description || '';\r\n        }\r\n      });\r\n    });\r\n    \r\n    // 4단계: 복잡도 보너스 계산\r\n    const complexity = words.length;\r\n    const complexityPowerBonus = Math.floor(complexity * 0.8);\r\n    const complexitySpeedBonus = Math.floor(complexity * 0.3);\r\n    \r\n    // 5단계: 최종 계산\r\n    const finalPower = Math.max(0, \r\n      Math.floor((basePower * powerMultiplier) + comboPower + complexityPowerBonus)\r\n    );\r\n    const finalSpeed = Math.max(0, \r\n      Math.floor((baseSpeed * speedMultiplier) + comboSpeed + complexitySpeedBonus)\r\n    );\r\n    \r\n    // 마나 비용 계산\r\n    const manaCost = calculateManaCost(spell);\r\n    \r\n    // 효율성 계산 (0으로 나누기 방지)\r\n    const efficiency = manaCost > 0 ? (finalPower / manaCost).toFixed(2) : '0.00';\r\n    \r\n    // 6단계: 특수 효과 계산\r\n    const specialEffects = [];\r\n    \r\n    if (spellType === 'defense') {\r\n      specialEffects.push('방어 보너스');\r\n    }\r\n    \r\n    if (comboDescription) {\r\n      specialEffects.push(comboDescription);\r\n    }\r\n    \r\n    if (finalPower >= 50) {\r\n      specialEffects.push('압도적 위력');\r\n    } else if (finalPower >= 30) {\r\n      specialEffects.push('강력한 위력');\r\n    }\r\n    \r\n    if (finalSpeed >= 40) {\r\n      specialEffects.push('번개 속도');\r\n    } else if (finalSpeed >= 25) {\r\n      specialEffects.push('빠른 속도');\r\n    }\r\n    \r\n    return {\r\n      spell,\r\n      power: finalPower,\r\n      speed: finalSpeed,\r\n      elements,\r\n      forms,\r\n      modifiers,\r\n      complexity,\r\n      type: spellType,\r\n      range,\r\n      specialEffects,\r\n      basePower,\r\n      baseSpeed,\r\n      powerMultiplier,\r\n      speedMultiplier,\r\n      comboPower,\r\n      comboSpeed,\r\n      comboDescription,\r\n      manaCost,\r\n      efficiency\r\n    };\r\n  };\r\n\r\n  // 개선된 전투 결과 계산 (빈 입력 처리)\r\n  const calculateBattle = (playerAnalysis, npcAnalysis) => {\r\n    if (!playerAnalysis || !npcAnalysis) return null;\r\n    \r\n    // 플레이어가 빈 주문을 입력한 경우 자동 패배\r\n    if (!playerAnalysis.spell || !playerAnalysis.spell.trim() || playerAnalysis.power === 0) {\r\n      return {\r\n        result: 'perfect_lose',\r\n        playerPower: 0,\r\n        npcPower: npcAnalysis.power,\r\n        totalAdvantage: 0,\r\n        elementAdvantage: 0,\r\n        typeAdvantage: 0,\r\n        rangeAdvantage: 0,\r\n        speedAdvantage: 0,\r\n        complexityAdvantage: 0,\r\n        specialAdvantage: 0,\r\n        advantageDetails: ['빈 주문으로 인한 자동 패배']\r\n      };\r\n    }\r\n    \r\n    let playerPower = playerAnalysis.power;\r\n    let npcPower = npcAnalysis.power;\r\n    let playerSpeed = playerAnalysis.speed;\r\n    let npcSpeed = npcAnalysis.speed;\r\n    \r\n    // 1단계: 속성 상성 계산\r\n    let elementAdvantage = 0;\r\n    let advantageDetails = [];\r\n    \r\n    playerAnalysis.elements.forEach(playerElement => {\r\n      npcAnalysis.elements.forEach(npcElement => {\r\n        const playerElementData = magicData.elements[playerElement];\r\n        if (playerElementData && playerElementData.strength === npcElement) {\r\n          elementAdvantage += 8;\r\n          advantageDetails.push(`${playerElement}이 ${npcElement}에 유리`);\r\n        } else if (playerElementData && playerElementData.weakness === npcElement) {\r\n          elementAdvantage -= 8;\r\n          advantageDetails.push(`${playerElement}이 ${npcElement}에 불리`);\r\n        }\r\n      });\r\n    });\r\n    \r\n    // 2단계: 타입별 상성 계산\r\n    let typeAdvantage = 0;\r\n    \r\n    if (playerAnalysis.type === 'attack' && npcAnalysis.type === 'defense') {\r\n      if (playerPower > npcPower * 1.2) {\r\n        typeAdvantage += 5;\r\n        advantageDetails.push('방어를 뚫었습니다');\r\n      } else {\r\n        typeAdvantage -= 8;\r\n        advantageDetails.push('방어에 막혔습니다');\r\n      }\r\n    } else if (playerAnalysis.type === 'defense' && npcAnalysis.type === 'attack') {\r\n      if (playerPower * 1.2 > npcPower) {\r\n        typeAdvantage += 8;\r\n        advantageDetails.push('성공적으로 방어했습니다');\r\n      } else {\r\n        typeAdvantage -= 3;\r\n        advantageDetails.push('방어가 부족했습니다');\r\n      }\r\n    } else if (playerAnalysis.type === 'control') {\r\n      if (playerSpeed > npcSpeed) {\r\n        typeAdvantage += 6;\r\n        advantageDetails.push('성공적으로 제어했습니다');\r\n      } else {\r\n        typeAdvantage -= 4;\r\n        advantageDetails.push('제어에 실패했습니다');\r\n      }\r\n    }\r\n    \r\n    // 3단계: 범위 상성 계산\r\n    let rangeAdvantage = 0;\r\n    \r\n    if (playerAnalysis.range === 'long' && npcAnalysis.range === 'short') {\r\n      rangeAdvantage += 3;\r\n      advantageDetails.push('사거리 우위');\r\n    } else if (playerAnalysis.range === 'short' && npcAnalysis.range === 'long') {\r\n      rangeAdvantage -= 3;\r\n      advantageDetails.push('사거리 열세');\r\n    } else if (playerAnalysis.range === 'area' && npcAnalysis.range !== 'area') {\r\n      rangeAdvantage += 2;\r\n      advantageDetails.push('범위 공격 우위');\r\n    }\r\n    \r\n    // 4단계: 속도 보너스 계산\r\n    let speedAdvantage = 0;\r\n    const speedDiff = playerSpeed - npcSpeed;\r\n    \r\n    if (speedDiff > 10) {\r\n      speedAdvantage += 5;\r\n      advantageDetails.push('압도적 속도');\r\n    } else if (speedDiff > 5) {\r\n      speedAdvantage += 3;\r\n      advantageDetails.push('속도 우위');\r\n    } else if (speedDiff < -10) {\r\n      speedAdvantage -= 5;\r\n      advantageDetails.push('속도 열세');\r\n    } else if (speedDiff < -5) {\r\n      speedAdvantage -= 3;\r\n      advantageDetails.push('속도 부족');\r\n    }\r\n    \r\n    // 5단계: 복잡도 보너스\r\n    let complexityAdvantage = 0;\r\n    const complexityDiff = playerAnalysis.complexity - npcAnalysis.complexity;\r\n    \r\n    if (complexityDiff > 3) {\r\n      complexityAdvantage += 4;\r\n      advantageDetails.push('복잡한 주문');\r\n    } else if (complexityDiff > 1) {\r\n      complexityAdvantage += 2;\r\n      advantageDetails.push('정교한 주문');\r\n    } else if (complexityDiff < -3) {\r\n      complexityAdvantage -= 2;\r\n      advantageDetails.push('단순한 주문');\r\n    }\r\n    \r\n    // 6단계: 특수 효과 보너스\r\n    let specialAdvantage = 0;\r\n    \r\n    if (playerAnalysis.specialEffects.includes('압도적 위력')) {\r\n      specialAdvantage += 6;\r\n      advantageDetails.push('압도적 위력 발동');\r\n    } else if (playerAnalysis.specialEffects.includes('강력한 위력')) {\r\n      specialAdvantage += 3;\r\n      advantageDetails.push('강력한 위력 발동');\r\n    }\r\n    \r\n    if (playerAnalysis.specialEffects.includes('번개 속도')) {\r\n      specialAdvantage += 4;\r\n      advantageDetails.push('번개 속도 발동');\r\n    } else if (playerAnalysis.specialEffects.includes('빠른 속도')) {\r\n      specialAdvantage += 2;\r\n      advantageDetails.push('빠른 속도 발동');\r\n    }\r\n    \r\n    if (playerAnalysis.comboDescription) {\r\n      specialAdvantage += 3;\r\n      advantageDetails.push(playerAnalysis.comboDescription);\r\n    }\r\n    \r\n    // 7단계: 최종 계산\r\n    const totalAdvantage = elementAdvantage + typeAdvantage + rangeAdvantage + \r\n                          speedAdvantage + complexityAdvantage + specialAdvantage;\r\n    \r\n    const finalPlayerPower = Math.max(0, playerPower + totalAdvantage);\r\n    const finalNpcPower = npcPower;\r\n    \r\n    // 8단계: 결과 판정\r\n    let result;\r\n    const powerDiff = finalPlayerPower - finalNpcPower;\r\n    \r\n    if (powerDiff > 15) {\r\n      result = 'perfect_win';\r\n    } else if (powerDiff > 5) {\r\n      result = 'win';\r\n    } else if (powerDiff > 0) {\r\n      result = 'narrow_win';\r\n    } else if (powerDiff > -5) {\r\n      result = 'narrow_lose';\r\n    } else if (powerDiff > -15) {\r\n      result = 'lose';\r\n    } else {\r\n      result = 'perfect_lose';\r\n    }\r\n    \r\n    return {\r\n      result,\r\n      playerPower: finalPlayerPower,\r\n      npcPower: finalNpcPower,\r\n      totalAdvantage,\r\n      elementAdvantage,\r\n      typeAdvantage,\r\n      rangeAdvantage,\r\n      speedAdvantage,\r\n      complexityAdvantage,\r\n      specialAdvantage,\r\n      advantageDetails\r\n    };\r\n  };\r\n\r\n  // 게임 시작\r\n  const startGame = () => {\r\n    setGameState('playing');\r\n    setPlayerSpell('');\r\n    setEstimatedMP(0);\r\n    setTimeLeft(10);\r\n    \r\n    // NPC 주문 선택\r\n    const randomSpell = npcSpells[Math.floor(Math.random() * npcSpells.length)];\r\n    setNpcSpell(randomSpell);\r\n    setNpcAnalysis(analyzeSpell(randomSpell));\r\n    \r\n    // 타이머 시작\r\n    timerRef.current = setInterval(() => {\r\n      setTimeLeft(prev => {\r\n        if (prev <= 1) {\r\n          endRound();\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n    \r\n    // 입력 창 포커스\r\n    setTimeout(() => {\r\n      inputRef.current?.focus();\r\n    }, 100);\r\n  };\r\n\r\n  // 라운드 종료 (마나 계산 버그 수정)\r\n  const endRound = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n    }\r\n    \r\n    const playerAnalysis = analyzeSpell(playerSpell);\r\n    const npcAnalysis = analyzeSpell(npcSpell);\r\n    \r\n    // 마나 비용 안전하게 계산\r\n    const manaCost = playerAnalysis ? (playerAnalysis.manaCost || 0) : 0;\r\n    \r\n    // 마나 부족 체크\r\n    if (playerAnalysis && playerAnalysis.spell && playerAnalysis.spell.trim() && manaCost > currentMP) {\r\n      // 마나 부족으로 게임오버\r\n      setGameState('gameover');\r\n      setPlayerAnalysis(playerAnalysis);\r\n      setNpcAnalysis(npcAnalysis);\r\n      return;\r\n    }\r\n    \r\n    // 마나 차감 (NaN 방지)\r\n    if (playerAnalysis && playerAnalysis.spell && playerAnalysis.spell.trim() && !isNaN(manaCost)) {\r\n      setCurrentMP(prev => Math.max(0, prev - manaCost));\r\n    }\r\n    \r\n    setPlayerAnalysis(playerAnalysis);\r\n    setNpcAnalysis(npcAnalysis);\r\n    \r\n    const battle = calculateBattle(playerAnalysis, npcAnalysis);\r\n    setBattleResult(battle);\r\n    \r\n    // 점수 업데이트\r\n    if (battle) {\r\n      if (battle.result === 'perfect_win') {\r\n        setPlayerScore(prev => prev + 3);\r\n      } else if (battle.result === 'win') {\r\n        setPlayerScore(prev => prev + 2);\r\n      } else if (battle.result === 'narrow_win') {\r\n        setPlayerScore(prev => prev + 1);\r\n      } else if (battle.result === 'narrow_lose') {\r\n        setNpcScore(prev => prev + 1);\r\n      } else if (battle.result === 'lose') {\r\n        setNpcScore(prev => prev + 2);\r\n      } else if (battle.result === 'perfect_lose') {\r\n        setNpcScore(prev => prev + 3);\r\n      }\r\n    }\r\n    \r\n    // 마나가 3 이하가 되면 게임오버 (다음 라운드를 위해)\r\n    const remainingMP = currentMP - manaCost;\r\n    if (remainingMP < 3) {\r\n      setGameState('gameover');\r\n    } else {\r\n      setGameState('result');\r\n    }\r\n  };\r\n\r\n  // 다음 라운드\r\n  const nextRound = () => {\r\n    // 최소 마나로 다음 라운드 진행 가능한지 체크\r\n    if (currentMP < 3) {\r\n      setGameState('gameover');\r\n      return;\r\n    }\r\n    \r\n    setCurrentRound(prev => prev + 1);\r\n    setGameState('ready');\r\n    setBattleResult(null);\r\n    setPlayerAnalysis(null);\r\n    setNpcAnalysis(null);\r\n    setEstimatedMP(0);\r\n  };\r\n\r\n  // 게임 리셋\r\n  const resetGame = () => {\r\n    setCurrentRound(1);\r\n    setPlayerScore(0);\r\n    setNpcScore(0);\r\n    setCurrentMP(100);\r\n    setGameState('ready');\r\n    setBattleResult(null);\r\n    setPlayerAnalysis(null);\r\n    setNpcAnalysis(null);\r\n    setEstimatedMP(0);\r\n    setPlayerSpell('');\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n    }\r\n  };\r\n\r\n  // 엔터 키 처리\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && gameState === 'playing') {\r\n      endRound();\r\n    }\r\n  };\r\n\r\n  // 정리\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white\">\r\n      {/* 게임 헤더 */}\r\n      <div className=\"bg-black/30 border-b border-purple-500/30 backdrop-blur-sm\">\r\n        <div className=\"max-w-6xl mx-auto p-4\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-5xl font-bold mb-2 flex items-center justify-center gap-3\">\r\n              <Zap className=\"text-yellow-400 w-12 h-12\" />\r\n              <span className=\"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\r\n                마법 주문 타이핑 게임\r\n              </span>\r\n              <Star className=\"text-blue-400 w-12 h-12\" />\r\n            </h1>\r\n            <p className=\"text-xl opacity-80 mb-4\">창의적인 마법 주문으로 NPC와 대결하세요!</p>\r\n          </div>\r\n\r\n          {/* 게임 상태 바 */}\r\n          <div className=\"bg-black/40 rounded-xl p-4 border border-purple-500/20\">\r\n            <div className=\"flex justify-between items-center mb-3\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"text-lg font-bold\">\r\n                  <span className=\"text-purple-300\">라운드:</span>\r\n                  <span className=\"text-2xl text-yellow-400 ml-2\">{currentRound}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-6 text-lg\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Sword className=\"w-5 h-5 text-blue-400\" />\r\n                  <span className=\"text-blue-400 font-bold\">{playerScore}</span>\r\n                </div>\r\n                <span className=\"text-gray-400\">vs</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Shield className=\"w-5 h-5 text-red-400\" />\r\n                  <span className=\"text-red-400 font-bold\">{npcScore}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <Zap className=\"w-5 h-5 text-cyan-400\" />\r\n                <span className=\"text-lg font-bold\">\r\n                  <span className=\"text-cyan-400\">{currentMP}</span>\r\n                  <span className=\"text-gray-400\">/100 MP</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* 마나 바 */}\r\n            <div className=\"mb-2\">\r\n              <div className=\"flex justify-between items-center mb-1\">\r\n                <span className=\"text-sm text-cyan-300 font-medium\">마나 포인트</span>\r\n                <div className=\"flex items-center gap-4 text-sm\">\r\n                  {currentMP <= 10 && (\r\n                    <div className=\"flex items-center gap-1 text-red-400 font-bold animate-pulse\">\r\n                      <AlertTriangle className=\"w-4 h-4\" />\r\n                      <span>마나 위험!</span>\r\n                    </div>\r\n                  )}\r\n                  <span className=\"text-gray-400\">\r\n                    완벽승리: 3점 | 승리: 2점 | 아슬승리: 1점\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"w-full bg-gray-800 rounded-full h-4 border border-gray-600\">\r\n                <div \r\n                  className={`h-4 rounded-full transition-all duration-500 ${\r\n                    currentMP > 60 ? 'bg-gradient-to-r from-cyan-500 to-blue-500' :\r\n                    currentMP > 30 ? 'bg-gradient-to-r from-yellow-500 to-orange-500' :\r\n                    currentMP > 10 ? 'bg-gradient-to-r from-orange-500 to-red-500' :\r\n                    'bg-gradient-to-r from-red-500 to-red-700 animate-pulse'\r\n                  }`}\r\n                  style={{ width: `${currentMP}%` }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 게임 컨텐츠 */}\r\n      <div className=\"max-w-6xl mx-auto p-6\">\r\n        {/* 게임오버 화면 */}\r\n        {gameState === 'gameover' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-red-900/40 rounded-xl p-8 text-center border border-red-500/50 backdrop-blur-sm\">\r\n              <h2 className=\"text-5xl font-bold mb-4 text-red-400\">게임 오버!</h2>\r\n              <div className=\"text-xl mb-6\">\r\n                <p className=\"mb-2\">마나가 부족합니다!</p>\r\n                <p className=\"text-lg text-gray-300\">라운드 {currentRound}에서 게임 종료</p>\r\n              </div>\r\n              \r\n              {/* 최종 결과 */}\r\n              <div className=\"bg-black/30 rounded-xl p-6 mb-6 border border-gray-600\">\r\n                <h3 className=\"text-3xl font-bold mb-4 text-purple-300\">최종 결과</h3>\r\n                <div className=\"grid md:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-blue-900/30 rounded-lg p-4 border border-blue-500/30\">\r\n                    <div className=\"text-6xl font-bold text-blue-400 mb-2\">{playerScore}</div>\r\n                    <div className=\"text-lg text-blue-300\">플레이어 점수</div>\r\n                  </div>\r\n                  <div className=\"bg-red-900/30 rounded-lg p-4 border border-red-500/30\">\r\n                    <div className=\"text-6xl font-bold text-red-400 mb-2\">{npcScore}</div>\r\n                    <div className=\"text-lg text-red-300\">NPC 점수</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-6 text-lg space-y-2\">\r\n                  <div>도달 라운드: <span className=\"font-bold text-yellow-400\">{currentRound}</span></div>\r\n                  <div>남은 마나: <span className=\"font-bold text-cyan-400\">{currentMP}MP</span></div>\r\n                  <div>\r\n                    결과: <span className={`font-bold text-2xl ${\r\n                      playerScore > npcScore ? 'text-green-400' :\r\n                      playerScore < npcScore ? 'text-red-400' :\r\n                      'text-yellow-400'\r\n                    }`}>\r\n                      {playerScore > npcScore ? '🏆 최종 승리!' :\r\n                       playerScore < npcScore ? '💀 최종 패배!' :\r\n                       '🤝 무승부!'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 마지막 주문 분석 */}\r\n              {playerAnalysis && (\r\n                <div className=\"bg-black/30 rounded-xl p-4 mb-6 border border-gray-600\">\r\n                  <h3 className=\"text-lg font-bold mb-2 text-orange-300\">마지막 시도한 주문</h3>\r\n                  <div className=\"font-mono text-blue-300 mb-2\">\"{playerAnalysis.spell || '(빈 주문)'}\"</div>\r\n                  <div className=\"text-red-400\">\r\n                    필요 마나: {playerAnalysis.manaCost || 0}MP (보유: {currentMP}MP)\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <button \r\n                onClick={resetGame}\r\n                className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105 shadow-lg\"\r\n              >\r\n                🎮 다시 시작\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 준비 화면 */}\r\n        {gameState === 'ready' && (\r\n          <div className=\"text-center\">\r\n            <div className=\"bg-black/30 rounded-xl p-8 mb-6 border border-purple-500/30 backdrop-blur-sm\">\r\n              <h2 className=\"text-3xl font-bold mb-4 text-purple-300\">라운드 {currentRound} 준비!</h2>\r\n              <p className=\"text-xl mb-6 text-gray-300\">10초 안에 창의적인 마법 주문을 입력하세요</p>\r\n              \r\n              <div className=\"grid md:grid-cols-3 gap-6 mb-6 text-sm\">\r\n                <div className=\"bg-red-900/20 rounded-lg p-4 border border-red-500/30\">\r\n                  <p className=\"font-bold text-red-400 mb-2\">🔥 기본 속성:</p>\r\n                  <p className=\"text-gray-300\">불, 물, 얼음, 바람, 번개, 땅, 빛, 어둠</p>\r\n                  <p className=\"font-bold text-red-400 mt-2\">⭐ 특수 속성:</p>\r\n                  <p className=\"text-gray-300\">독, 생명, 시간, 공간, 정신 등</p>\r\n                </div>\r\n                <div className=\"bg-orange-900/20 rounded-lg p-4 border border-orange-500/30\">\r\n                  <p className=\"font-bold text-orange-400 mb-2\">⚔️ 마법 형태:</p>\r\n                  <p className=\"text-gray-300\">구체, 창, 검, 방패, 화살, 폭발, 회오리</p>\r\n                  <p className=\"font-bold text-orange-400 mt-2\">🌟 특수 형태:</p>\r\n                  <p className=\"text-gray-300\">채찍, 덫, 빔, 안개, 사슬 등</p>\r\n                </div>\r\n                <div className=\"bg-pink-900/20 rounded-lg p-4 border border-pink-500/30\">\r\n                  <p className=\"font-bold text-pink-400 mb-2\">✨ 수식어:</p>\r\n                  <p className=\"text-gray-300\">거대한, 작열하는, 빠른, 날카로운</p>\r\n                  <p className=\"font-bold text-pink-400 mt-2\">💎 특수 수식어:</p>\r\n                  <p className=\"text-gray-300\">저주받은, 전설의, 금지된 등</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-yellow-900/20 rounded-lg p-4 border border-yellow-500/30\">\r\n                  <p className=\"font-bold text-yellow-400 mb-2\">💡 고득점 팁:</p>\r\n                  <div className=\"grid md:grid-cols-2 gap-4 text-sm text-gray-300\">\r\n                    <div>\r\n                      <p>• 속성 + 형태 조합 보너스 활용 (예: 불+검 = 화염검)</p>\r\n                      <p>• 상성 시스템 활용 (불 > 얼음, 물 > 불, 번개 > 물)</p>\r\n                    </div>\r\n                    <div>\r\n                      <p>• 긴 문장일수록 복잡도 보너스 획득</p>\r\n                      <p>• 특수 수식어로 위력 강화</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-red-900/20 rounded-lg p-4 border border-red-500/30\">\r\n                  <p className=\"font-bold text-red-400 mb-2\">⚠️ 마나 시스템:</p>\r\n                  <div className=\"grid md:grid-cols-2 gap-4 text-sm text-gray-300\">\r\n                    <div>\r\n                      <p>• 시작 마나: 100MP (라운드마다 회복되지 않음)</p>\r\n                      <p>• 기본 주문: 3-6MP, 강력한 주문: 10-20MP</p>\r\n                      <p>• 마나 부족 시 게임오버! 효율적 마나 관리가 필수</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-bold text-cyan-300\">💎 효율적인 주문 예시:</p>\r\n                      <p>• \"불 화살\" (4MP, 13위력) - 효율성: 3.25</p>\r\n                      <p>• \"빠른 얼음 창\" (5MP, 19위력) - 효율성: 3.80</p>\r\n                      <p className=\"text-red-300\">⚠️ \"전설의 금지된 죽음의 낫\" (22MP)</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <button \r\n                onClick={startGame}\r\n                className=\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105 shadow-lg mt-6\"\r\n              >\r\n                🚀 게임 시작!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 플레이 화면 */}\r\n        {gameState === 'playing' && (\r\n          <div className=\"space-y-6\">\r\n            {/* 타이머 */}\r\n            <div className=\"text-center\">\r\n              <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n                <Timer className={`w-8 h-8 ${timeLeft <= 3 ? 'text-red-400 animate-pulse' : 'text-yellow-400'}`} />\r\n                <span className={`text-5xl font-bold ${timeLeft <= 3 ? 'text-red-400 animate-pulse' : 'text-yellow-400'}`}>\r\n                  {timeLeft}초\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-800 rounded-full h-3 border border-gray-600\">\r\n                <div \r\n                  className={`h-3 rounded-full transition-all duration-1000 ${\r\n                    timeLeft > 6 ? 'bg-gradient-to-r from-green-500 to-green-400' :\r\n                    timeLeft > 3 ? 'bg-gradient-to-r from-yellow-500 to-orange-500' :\r\n                    'bg-gradient-to-r from-red-500 to-red-700 animate-pulse'\r\n                  }`}\r\n                  style={{ width: `${(timeLeft / 10) * 100}%` }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* NPC 주문 공개 */}\r\n            <div className=\"bg-red-900/20 rounded-xl p-6 border border-red-500/30 backdrop-blur-sm\">\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <Eye className=\"w-6 h-6 text-red-400\" />\r\n                <h3 className=\"text-xl font-bold text-red-300\">NPC의 주문</h3>\r\n              </div>\r\n              <div className=\"bg-black/30 rounded-lg p-4 border border-red-500/20\">\r\n                <div className=\"font-mono text-2xl text-red-400 mb-2\">\"{npcSpell}\"</div>\r\n                {npcAnalysis && (\r\n                  <div className=\"text-sm text-gray-300 space-y-1\">\r\n                    <div className=\"flex gap-4\">\r\n                      <span>위력: <span className=\"text-yellow-400 font-bold\">{npcAnalysis.power}</span></span>\r\n                      <span>속도: <span className=\"text-green-400 font-bold\">{npcAnalysis.speed}</span></span>\r\n                      <span>마나: <span className=\"text-cyan-400 font-bold\">{npcAnalysis.manaCost}MP</span></span>\r\n                      <span>효율성: <span className=\"text-purple-400 font-bold\">{npcAnalysis.efficiency}</span></span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 입력 창 */}\r\n            <div className=\"bg-black/30 rounded-xl p-6 border border-purple-500/30 backdrop-blur-sm\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-xl font-bold text-purple-300\">마법 주문을 입력하세요:</h3>\r\n                <div className=\"text-right\">\r\n                  <div className={`text-lg font-bold ${\r\n                    estimatedMP > currentMP ? 'text-red-400 animate-pulse' : \r\n                    estimatedMP > currentMP * 0.8 ? 'text-yellow-400' : \r\n                    'text-cyan-400'\r\n                  }`}>\r\n                    예상 마나: {estimatedMP}MP\r\n                  </div>\r\n                  {estimatedMP > currentMP && (\r\n                    <div className=\"flex items-center gap-1 text-red-400 text-sm\">\r\n                      <AlertTriangle className=\"w-4 h-4\" />\r\n                      <span>마나 부족!</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <input\r\n                ref={inputRef}\r\n                type=\"text\"\r\n                value={playerSpell}\r\n                onChange={(e) => handleSpellChange(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder=\"예: 작열하는 푸른 불꽃의 창\"\r\n                className={`w-full p-4 text-xl rounded-lg bg-gray-800/80 border-2 focus:outline-none transition-all duration-300 ${\r\n                  estimatedMP > currentMP ? \r\n                  'border-red-500 focus:border-red-400 text-red-300' : \r\n                  'border-purple-500 focus:border-purple-400 text-white'\r\n                } placeholder-gray-400`}\r\n              />\r\n              <div className=\"flex justify-between items-center mt-3 text-sm\">\r\n                <p className=\"text-gray-400\">Enter 키를 눌러 주문을 완성하세요</p>\r\n                {estimatedMP > 0 && playerSpell.trim() && (\r\n                  <div className=\"text-gray-400\">\r\n                    예상 효율성: {analyzeSpell(playerSpell)?.efficiency || '0.00'} 위력/MP\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 결과 화면 */}\r\n        {gameState === 'result' && (\r\n          <div className=\"space-y-6\">\r\n            {/* 전투 결과 */}\r\n            <div className=\"bg-black/30 rounded-xl p-6 text-center border border-purple-500/30 backdrop-blur-sm\">\r\n              <h2 className=\"text-3xl font-bold mb-4 text-purple-300\">전투 결과</h2>\r\n              {battleResult && (\r\n                <div className={`text-5xl font-bold mb-4 ${\r\n                  battleResult.result === 'perfect_win' ? 'text-green-300' :\r\n                  battleResult.result === 'win' ? 'text-green-400' :\r\n                  battleResult.result === 'narrow_win' ? 'text-green-500' :\r\n                  battleResult.result === 'narrow_lose' ? 'text-red-500' :\r\n                  battleResult.result === 'lose' ? 'text-red-400' :\r\n                  battleResult.result === 'perfect_lose' ? 'text-red-300' :\r\n                  'text-yellow-400'\r\n                }`}>\r\n                  {battleResult.result === 'perfect_win' ? '🏆 완벽한 승리!' :\r\n                   battleResult.result === 'win' ? '🎉 승리!' :\r\n                   battleResult.result === 'narrow_win' ? '😅 아슬아슬한 승리!' :\r\n                   battleResult.result === 'narrow_lose' ? '😰 아슬아슬한 패배!' :\r\n                   battleResult.result === 'lose' ? '😵 패배!' :\r\n                   battleResult.result === 'perfect_lose' ? '💀 완전한 패배!' :\r\n                   '🤝 무승부!'}\r\n                </div>\r\n              )}\r\n              \r\n              {/* 점수 업데이트 */}\r\n              {battleResult && (\r\n                <div className=\"text-xl mb-4 bg-black/20 rounded-lg p-4\">\r\n                  <span className=\"text-blue-400 font-bold\">플레이어 최종 위력: {battleResult.playerPower}</span>\r\n                  <span className=\"mx-4 text-gray-400\">vs</span>\r\n                  <span className=\"text-red-400 font-bold\">NPC 최종 위력: {battleResult.npcPower}</span>\r\n                </div>\r\n              )}\r\n              \r\n              {/* 우위 요소 분석 */}\r\n              {battleResult && battleResult.advantageDetails.length > 0 && (\r\n                <div className=\"mb-4 bg-black/20 rounded-lg p-4\">\r\n                  <h3 className=\"text-lg font-bold mb-2 text-cyan-300\">전투 분석</h3>\r\n                  <div className=\"text-sm space-y-1\">\r\n                    {battleResult.advantageDetails.map((detail, index) => (\r\n                      <div key={index} className=\"text-cyan-300\">• {detail}</div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* 주문 분석 */}\r\n            <div className=\"grid md:grid-cols-2 gap-6\">\r\n              {/* 플레이어 */}\r\n              <div className=\"bg-blue-900/30 rounded-xl p-6 border border-blue-500/30 backdrop-blur-sm\">\r\n                <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\r\n                  <Sword className=\"text-blue-400\" />\r\n                  플레이어\r\n                </h3>\r\n                {playerAnalysis ? (\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"font-mono text-lg text-blue-300 bg-black/20 rounded p-2\">\r\n                      \"{playerAnalysis.spell || '(빈 주문)'}\"\r\n                    </div>\r\n                    \r\n                    {/* 기본 스탯 */}\r\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                      <div className=\"space-y-1\">\r\n                        <div>위력: <span className=\"font-bold text-yellow-400\">{playerAnalysis.power}</span></div>\r\n                        <div>속도: <span className=\"font-bold text-green-400\">{playerAnalysis.speed}</span></div>\r\n                        <div>마나: <span className=\"font-bold text-cyan-400\">{playerAnalysis.manaCost}MP</span></div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div>효율성: <span className=\"font-bold text-purple-400\">{playerAnalysis.efficiency}</span></div>\r\n                        <div>복잡도: <span className=\"font-bold text-orange-400\">{playerAnalysis.complexity}</span></div>\r\n                        <div>타입: <span className=\"font-bold text-indigo-400\">{\r\n                          playerAnalysis.type === 'attack' ? '공격' : \r\n                          playerAnalysis.type === 'defense' ? '방어' : \r\n                          playerAnalysis.type === 'none' ? '없음' : '제어'\r\n                        }</span></div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* 구성 요소 */}\r\n                    {(playerAnalysis.elements.length > 0 || playerAnalysis.forms.length > 0 || playerAnalysis.modifiers.length > 0) && (\r\n                      <div className=\"text-sm space-y-1 bg-black/20 rounded p-2\">\r\n                        {playerAnalysis.elements.length > 0 && (\r\n                          <div>속성: {playerAnalysis.elements.map(e => \r\n                            <span key={e} className={`font-bold ${magicData.elements[e]?.color || 'text-white'} mr-1`}>{e}</span>\r\n                          )}</div>\r\n                        )}\r\n                        {playerAnalysis.forms.length > 0 && (\r\n                          <div>형태: <span className=\"font-bold text-orange-400\">{playerAnalysis.forms.join(', ')}</span></div>\r\n                        )}\r\n                        {playerAnalysis.modifiers.length > 0 && (\r\n                          <div>수식어: <span className=\"font-bold text-pink-400\">{playerAnalysis.modifiers.join(', ')}</span></div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* 특수 효과 */}\r\n                    {playerAnalysis.specialEffects.length > 0 && (\r\n                      <div className=\"text-sm bg-purple-900/20 rounded p-2\">\r\n                        <div className=\"font-bold text-purple-300\">특수 효과:</div>\r\n                        {playerAnalysis.specialEffects.map((effect, index) => (\r\n                          <div key={index} className=\"text-purple-200\">• {effect}</div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-gray-400\">주문을 입력하지 않았습니다</div>\r\n                )}\r\n              </div>\r\n\r\n              {/* NPC */}\r\n              <div className=\"bg-red-900/30 rounded-xl p-6 border border-red-500/30 backdrop-blur-sm\">\r\n                <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\r\n                  <Shield className=\"text-red-400\" />\r\n                  NPC\r\n                </h3>\r\n                {npcAnalysis && (\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"font-mono text-lg text-red-300 bg-black/20 rounded p-2\">\"{npcAnalysis.spell}\"</div>\r\n                    \r\n                    {/* 기본 스탯 */}\r\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                      <div className=\"space-y-1\">\r\n                        <div>위력: <span className=\"font-bold text-yellow-400\">{npcAnalysis.power}</span></div>\r\n                        <div>속도: <span className=\"font-bold text-green-400\">{npcAnalysis.speed}</span></div>\r\n                        <div>마나: <span className=\"font-bold text-cyan-400\">{npcAnalysis.manaCost}MP</span></div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div>효율성: <span className=\"font-bold text-purple-400\">{npcAnalysis.efficiency}</span></div>\r\n                        <div>복잡도: <span className=\"font-bold text-orange-400\">{npcAnalysis.complexity}</span></div>\r\n                        <div>타입: <span className=\"font-bold text-indigo-400\">{\r\n                          npcAnalysis.type === 'attack' ? '공격' : \r\n                          npcAnalysis.type === 'defense' ? '방어' : '제어'\r\n                        }</span></div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* 구성 요소 */}\r\n                    <div className=\"text-sm space-y-1 bg-black/20 rounded p-2\">\r\n                      {npcAnalysis.elements.length > 0 && (\r\n                        <div>속성: {npcAnalysis.elements.map(e => \r\n                          <span key={e} className={`font-bold ${magicData.elements[e]?.color || 'text-white'} mr-1`}>{e}</span>\r\n                        )}</div>\r\n                      )}\r\n                      {npcAnalysis.forms.length > 0 && (\r\n                        <div>형태: <span className=\"font-bold text-orange-400\">{npcAnalysis.forms.join(', ')}</span></div>\r\n                      )}\r\n                      {npcAnalysis.modifiers.length > 0 && (\r\n                        <div>수식어: <span className=\"font-bold text-pink-400\">{npcAnalysis.modifiers.join(', ')}</span></div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {/* 특수 효과 */}\r\n                    {npcAnalysis.specialEffects.length > 0 && (\r\n                      <div className=\"text-sm bg-purple-900/20 rounded p-2\">\r\n                        <div className=\"font-bold text-purple-300\">특수 효과:</div>\r\n                        {npcAnalysis.specialEffects.map((effect, index) => (\r\n                          <div key={index} className=\"text-purple-200\">• {effect}</div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 전투 상세 */}\r\n            {battleResult && (\r\n              <div className=\"bg-black/30 rounded-xl p-4 border border-gray-600 backdrop-blur-sm\">\r\n                <h3 className=\"text-lg font-bold mb-3 text-gray-300\">전투 상세 분석</h3>\r\n                <div className=\"grid md:grid-cols-2 gap-4 text-sm\">\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"font-bold text-gray-300 mb-2\">우위 요소 분석</div>\r\n                    <div>속성 상성: {battleResult.elementAdvantage > 0 ? '+' : ''}{battleResult.elementAdvantage}</div>\r\n                    <div>타입 상성: {battleResult.typeAdvantage > 0 ? '+' : ''}{battleResult.typeAdvantage}</div>\r\n                    <div>사거리 상성: {battleResult.rangeAdvantage > 0 ? '+' : ''}{battleResult.rangeAdvantage}</div>\r\n                    <div>속도 우위: {battleResult.speedAdvantage > 0 ? '+' : ''}{battleResult.speedAdvantage}</div>\r\n                    <div>복잡도 보너스: {battleResult.complexityAdvantage > 0 ? '+' : ''}{battleResult.complexityAdvantage}</div>\r\n                    <div>특수 효과: {battleResult.specialAdvantage > 0 ? '+' : ''}{battleResult.specialAdvantage}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-bold text-gray-300 mb-2\">총 우위 점수</div>\r\n                    <div className=\"text-3xl font-bold text-yellow-400 mb-2\">\r\n                      {battleResult.totalAdvantage > 0 ? '+' : ''}{battleResult.totalAdvantage}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      플레이어 기본 위력 {playerAnalysis ? playerAnalysis.power - battleResult.totalAdvantage : 0} + 우위 {battleResult.totalAdvantage} = {battleResult.playerPower}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* 버튼 */}\r\n            <div className=\"flex justify-center gap-4\">\r\n              {currentMP >= 3 ? (\r\n                <button \r\n                  onClick={nextRound}\r\n                  className=\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\"\r\n                >\r\n                  ➡️ 다음 라운드\r\n                </button>\r\n              ) : (\r\n                <div className=\"text-red-400 text-center\">\r\n                  <div className=\"mb-2 flex items-center justify-center gap-2\">\r\n                    <AlertTriangle className=\"w-5 h-5\" />\r\n                    <span>마나 부족으로 더 이상 진행할 수 없습니다</span>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => setGameState('gameover')}\r\n                    className=\"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\"\r\n                  >\r\n                    💀 게임 종료\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <button \r\n                onClick={resetGame}\r\n                className=\"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg\"\r\n              >\r\n                🔄 게임 리셋\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MagicTypingGame; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}